(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{295:function(n,t,e){"use strict";e.r(t);var a=e(16),o=e(17),i=e(20),r=e(18),c=e(21),l=(e(175),e(0)),u=e.n(l),d=e(177),p=e.n(d),h=e(19),s=e(289),g=e(293),f=e(174),b=e(50),m=e(22),v=e(4),x=e(5);function j(){var n=Object(v.a)([" \n    font-family: inherit;\n    padding: 8px;\n    font-size:14px;\n    display:block;\n    margin-top:30px;\n    margin-bottom:50px;\n    width:100%;\n    height:100px;\n    resize:none;\n    box-sizing: border-box;\n    border:1 solid #dcdcdc;\n    border-radius: 2px;\n"]);return j=function(){return n},n}function y(){var n=Object(v.a)(["\n    padding-top: 180px;\n    font-size:25px;\n"]);return y=function(){return n},n}function O(){var n=Object(v.a)(["\n    cursor:pointer;\n    color:#555;\n    font-size:17px;\n    line-height: 56px;\n    padding: 0 ;\n    &.left {\n        float: left;\n    }\n    &.right{\n        float: right;\n    }\n    &.active{\n        color: #ea6f5a;\n    }\n"]);return O=function(){return n},n}function w(){var n=Object(v.a)(["\n    position: relative;\n    height: 56px;\n    width: 900px;\n    margin:0 auto;\n"]);return w=function(){return n},n}function E(){var n=Object(v.a)(["\n    position: relative;\n    height: 56px;\n    margin:0 auto;\n    border-bottom: 1px solid #f0f0f0;\n"]);return E=function(){return n},n}function C(){var n=Object(v.a)(["\n    width:100%;\n    overflow:hidden\n"]);return C=function(){return n},n}function I(){var n=Object(v.a)(["\n    width: 800px;\n    margin: 0 auto; \n    padding-top: 70px;\n    padding-bottom:30px;\n"]);return I=function(){return n},n}function k(){var n=Object(v.a)(["\n    height: 44px;\n    min-height: 44px;\n    display: block;\n    width:102%;\n    border: 0;\n    font-size: 32px;\n    line-height: 32px;\n    font-weight: 600;\n    outline: none;\n    resize:none;\n    font-family:inherit;\n    padding-right:3%;\n"]);return k=function(){return n},n}function z(){var n=Object(v.a)(["\n    height:44px;\n    overflow:hidden;\n    margin-bottom:70px;\n"]);return z=function(){return n},n}var S=x.b.div(z()),T=x.b.textarea.attrs({placeholder:"\u8bf7\u8f93\u5165\u6807\u9898"})(k()),P=x.b.div(I()),N=x.b.div(C()),D=x.b.div(E()),F=x.b.div(w()),L=x.b.div(O()),B=x.b.div(y()),J=x.b.textarea.attrs({placeholder:"\u6807\u7b7e\u4e4b\u95f4\u7528\u9017\u53f7\u5206\u79bb"})(j()),M=function(n){function t(){var n,e;Object(a.a)(this,t);for(var o=arguments.length,c=new Array(o),l=0;l<o;l++)c[l]=arguments[l];return(e=Object(i.a)(this,(n=Object(r.a)(t)).call.apply(n,[this].concat(c)))).handleSubmit=function(n,t,a,o){var i=t.toHTML(),r=e.props.match.params.id;0!==n.length&&0!==Object(m.a)(i).length?e.props.submitPost(n,i,a,r,o):alert("\u6807\u9898\u548c\u6587\u7ae0\u5185\u5bb9\u4e0d\u80fd\u4e3a\u7a7a\uff01")},e}return Object(c.a)(t,n),Object(o.a)(t,[{key:"render",value:function(){var n=this,t=this.props,e=t.postID,a=t.tags,o=t.title,i=t.token,r=t.body,c=t.photoName,l=t.handleBodyChange,d=t.handleTagChange,h=t.handleTitleChange;return i?u.a.createElement("div",null,u.a.createElement(D,null,u.a.createElement(F,null,u.a.createElement(s.a,{to:"/"},u.a.createElement(L,{className:"left"},"\u56de\u5230\u9996\u9875")),u.a.createElement(L,{className:"right",onClick:function(){return n.handleSubmit(o,r,a,c)}},"\u53d1\u5e03"))),e?u.a.createElement(f.a,{to:"/detail/"+e}):u.a.createElement(P,null,u.a.createElement(S,null,u.a.createElement(T,{value:o,onChange:h})),u.a.createElement(N,null,u.a.createElement(p.a,{media:{uploadFn:function(t){return n.props.upLoadFn(t)}},contentStyle:{width:"103%",height:"700px",paddingRight:"20px",boxSizing:"border-box"},excludeControls:["font-family","letter-spacing","subscript","emoji","text-indent","hr","separator","superscript","text-align"],onChange:l,value:"string"===typeof r?p.a.createEditorState(r):r})),u.a.createElement(B,null,"\u6dfb\u52a0\u6807\u7b7e",u.a.createElement(J,{value:a,onChange:d})))):u.a.createElement(f.a,{to:"/"})}},{key:"componentDidMount",value:function(){var n=this.props.match.params.id;n&&this.props.getInitialPost(n)}},{key:"componentWillUnmount",value:function(){this.props.clearStatus()}}]),t}(u.a.Component);t.default=Object(h.b)(function(n){return{photoName:n.getIn(["editor","photoName"]),postID:n.getIn(["editor","postID"]),token:n.getIn(["login","token"]),tags:n.getIn(["editor","tags"]),title:n.getIn(["editor","title"]),body:n.getIn(["editor","body"])}},function(n){return{clearStatus:function(){n(b.a.clearStatus())},submitPost:function(t,e,a,o,i){n(b.a.editPost(t,e,a,o,i))},upLoadFn:function(t){n(b.a.upLoadFn(t))},getInitialPost:function(t){n(b.a.getInitialPost(t))},handleBodyChange:function(t){n(b.a.changeBody(t))},handleTagChange:function(t){n(b.a.changeTag(t))},handleTitleChange:function(t){n(b.a.changeTitle(t))}}})(Object(g.a)(M))}}]);
//# sourceMappingURL=3.b81cf686.chunk.js.map