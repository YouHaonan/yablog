{"version":3,"sources":["pages/detail/style.js","pages/detail/components/Post.js","pages/detail/components/Comments.js","pages/detail/index.js"],"names":["DetailWrapper","styled","div","_templateObject","PostHeader","_templateObject2","HeaderAddition","_templateObject3","Edit","_templateObject4","Content","_templateObject5","Footer","_templateObject6","FooterTag","span","_templateObject7","CommentWrapper","_templateObject8","CommentLabel","_templateObject9","ListItem","_templateObject10","ReplyArea","textarea","attrs","placeholder","_templateObject11","ListInfo","_templateObject12","Author","_templateObject13","AuthorBadge","_templateObject14","Operation","_templateObject15","Floor","_templateObject16","ListAddition","_templateObject17","CommentBody","_templateObject18","ListFooter","_templateObject19","FooterItem","_templateObject20","PostTag","_templateObject21","MoreComment","_templateObject22","PostTime","_templateObject23","AddCommentWrapper","_templateObject24","SubmitCommentButton","_templateObject25","CancelButton","_templateObject26","AddComment","_templateObject27","ReplyWrapper","_templateObject28","Post","props","post","tags","token","react_default","a","createElement","get","className","moment","format","map","i","Link","to","dangerouslySetInnerHTML","__html","item","key","Comments","comments","nextComment","activeID","replyContent","toAdmin","replyTo","getMoreComment","handleDeleteComment","handleReplyChange","handleReplySubmit","toggleComment","showReply","byIDList","showReplyArea","cancelReply","getMoreReply","toggleReply","handleDeleteReply","size","concat","onClick","getIn","style","color","onChange","value","Detail","state","commentValue","handleCommentChange","e","_this","setState","target","handleCommentSubmit","postID","length","submitComment","alert","_this2","this","header","backtop","scrollTop","components_Post","components_Comments","getDetail","match","params","id","window","scrollTo","Component","connect","dispatch","comment","actionCreators","url","confirm","deleteComment","list","getReply","preID","replyChange","replySubmit","next","replyID","commentID","deleteReply","withRouter"],"mappings":"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","file":"static/js/1.4b497711.chunk.js","sourcesContent":["import styled from 'styled-components';\n\nexport const DetailWrapper = styled.div`\n\toverflow: hidden;\n\twidth: 760px;\n\tmargin: 0 auto;\n\tpadding-bottom: 100px;\n`;\n\nexport const PostHeader = styled.div`\n\tmargin: 50px 0 20px 0;\n\tline-height: 44px;\n\tfont-size: 34px;\n\tcolor: #333;\n\tfont-weight: bold;\n`;\n\nexport const HeaderAddition = styled.div`\n\tmargin-top: 20px\n\tline-height:30px;\n\toverflow:hidden;\n\tcolor:#999;\n\tfont-size:14px;\n\t.iconfont{\n\t\tpadding-right:5px;\n\t}\n\n`;\n\nexport const Edit = styled.div`\n\tfloat:right;\n\tpadding-right:10px;\n`;\n\nexport const Content = styled.div`\n\tcolor: #666;\n\tmin-height:200px;\n\tline-height:20px;\n\tul{\n\t\tpadding-left:20px;\n\t\tlist-style:disc;\n\t}\n\n\tol{\n\t\tpadding-left:20px;\n\t\tlist-style:decimal;\n\t}\n\tpre{\n\t\tmargin:15px 0;\n\t\tpadding:15px;\n\t\tbox-sizing: border-box;\n\t\tbackground:#f1f2f3;\n\t\tborder-radius:4px;\n\t}\n\tp{\n\t\tmin-height:16px;\n\t\twhite-space:pre-wrap;\n\t}\n\timg{\n\t\twidth:100%;\n\t}\n`;\n\nexport const Footer = styled.div`\n\tmargin-top: 60px;\n\tfont-size:22px;\n\tcolor: ##2f2f2f;\n\tline-height:35px;\n`;\n\nexport const FooterTag = styled.span`\n\tline-height:20px;\n\tdisplay:inline-block;\n\tbackground:#999;\n\tborder-radius:3px;\n\tfont-size: 14px;\n\tpadding:3px 7px;\n\tmargin-right: 15px;\n\tmargin-bottom: 15px;\n\tcolor:white;\n\tcursor: pointer;\n`;\n\nexport const CommentWrapper = styled.div`\n\tmargin-top:60px;\n\toverflow:hidden;\n`;\n\nexport const CommentLabel = styled.div`\n\tfont-size:30px;\n\tline-height:30px;\n\tmargin-bottom:50px;\n`;\n\n\nexport const ListItem = styled.div`\n\toverflow: hidden;\n\tpadding: 20px 0;\n\tborder-top: 1px solid #dcdcdc;\n\t&.reply{\n\t\tpadding:10px 0;\n\t}\n`;\n\nexport const ReplyArea = styled.textarea.attrs({\n    placeholder: '说说你的想法'\n})` \n    font-family: inherit;\n    padding: 8px;\n    font-size:16px;\n\tdisplay:block;\n\tmargin-left:20px;\n    margin-top:60px;\n\tmargin-bottom:20px;\n\tbox-sizing: border-box;\n\twidth:620px;\n    height:100px;\n    resize:none;\n    border:1 solid #dcdcdc;\n\tborder-radius: 2px;\n\t\n`;\n\nexport const ListInfo =\tstyled.div`\n\toverflow:hidden;\n`;\n\nexport const Author = styled.div`\n\tfontsize:20px;\n\tcolor:#2f2f2f;\n\tpadding:7px 0;\n\t&.reply{\n\t\tfont-size:15px;\n\t}\n`;\n\nexport const AuthorBadge =styled.span`\n\tdisplay:inline-block;\n\tbackground:#0084ff;\n\tcolor:#fff;\n\tfont-size:12px;\n\tpadding:2px 4px;\n\tline-height:13px;\n\tborder-radius:2px;\n\tmargin-left:5px;\n\ttext-align:center\n`;\n\nexport const Operation = styled.div`\n\tdisplay:inline-block\n\tfloat:right;\n\tcursor:pointer;\n\tpadding-right:8px;\n`;\n\nexport const Floor = styled.div`\n\tfont-size:13px;\n\tcolor:#999;\n\tmargin-bottom:20px;\n\t&.reply{\n\t\tmargin-bottom:10px;\n\t}\n`;\n\nexport const ListAddition =\tstyled.div`\noverflow:hidden;\n`;\n\nexport const CommentBody =\tstyled.div`\n\tline-height:30px;\n\toverflow:hidden;\n\tfont-size:16px;\n\tpadding-left:5px;\n\tmargin-bottom:20px;\n\t&.reply{\n\t\tfont-size:14px;\n\t\tline-height:20px;\n\t\tmargin-bottom:10px;\n\t\tpadding-left:5px;\n\t}\n`;\n\nexport const ListFooter = styled.div`\n\toverflow:hidden;\n\twidth:100%;\n`;\n\nexport const FooterItem = styled.div`\n\tposition:relative;\n\tfloat:right;\n\tcolor:#999;\n\tfont-size:15px;\n\tmargin-right:15px;\n\tcursor:pointer;\n\t&.reply{\n\t\tfont-size:14px;\n\t}\n\t.iconfont{\n\t\tfont-size:22px;\n\t\tposition:absolute;\n\t\ttop:-2px;\n\t\tright:35px;\n\t\t&.reply{\n\t\t\tfont-size:19px;\n\t\t}\n\t}\n\t\n`;\n\nexport const PostTag =\tstyled.div`\n\tfloat:left;\n\tmargin-left:20px;\n`;\n\nexport const MoreComment =\tstyled.div`\n\twidth: 100%;\n\theight: 40px;\n\tline-height: 40px;\n\tmargin: 30px 0;\n\ttext-align:center;\n\tcolor: #999;\n\tcursor: pointer;\n\t&.reply{\n\t\theight:20px;\n\t\tline-height:20px;\n\t\tmargin:10px 0;\n\t\tfont-size:15px;\n\t}\n`;\n\nexport const PostTime =\tstyled.div`\n\tfloat:left;\n`;\n\nexport const AddCommentWrapper = styled.div`\n\toverflow:hidden;\n`;\n\nexport const SubmitCommentButton = styled.div`\n\tfloat:right;\n\tcursor: pointer;\n\theight:30px;\n\tcolor: #fff;\n\tborder-radius:3px;\n\tfont-size:14px;\n\tline-height:20px;\n\tbox-sizing: border-box;\n\tpadding:5px 10px;\n\ttext-align:center;\n\tbackground-color: #0084ff;\n\t&.reply{\n\t\tmargin-right:125px;\n\t\tmargin-bottom:20px;\n\t\tfont-size:14px;\n\t\theight:28px;\n\t\tpadding:4px 8px;\n\t}\n`;\n\nexport const CancelButton = styled.div`\n\tfloat:right;\n\tcursor: pointer;\n\theight:39px;\n\tcolor: #999;\n\tfont-size:15px;\n\tline-height:20px;\n\tpadding:5px 10px;\n\ttext-align:center;\n`;\n\nexport const AddComment = styled.textarea.attrs({\n    placeholder: '快来评论吧'\n})` \n    font-family: inherit;\n\tpadding: 8px;\n    font-size:16px;\n    display:block;\n    margin-top:80px;\n\tmargin-bottom:40px;\n\tbox-sizing: border-box;\n\twidth:760px;\n    height:120px;\n    resize:none;\n    border:1 solid #dcdcdc;\n\tborder-radius: 2px;\n\t\n` \nexport const ReplyWrapper = styled.div`\n\toverflow:hidden;\n\twidth:620px;\n\tpadding:25px;\n\tpadding-bottom:10px;\n\tmargin-top:50px;\n\tbackground:#eee;\n\tmargin-left:20px;\n\tborder-radius:4px;\n\tmargin-bottom:20px;\n\tbox-sizing: border-box;\n`;\n\n","import React from 'react';\r\nimport moment from \"moment\";\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport {\r\n\tPostHeader, \r\n\tContent,\r\n\tHeaderAddition,\r\n\tPostTime,\r\n\tPostTag,\r\n\tFooter,\r\n    FooterTag,\r\n    Edit\r\n} from '../style';\r\n\r\nconst Post=(props)=> {\r\n    const{post, tags, token}=props      \r\n    return (\r\n    <div>\r\n        <PostHeader>\r\n        {post.get('title')}\r\n            <HeaderAddition>\r\n                <PostTime>\r\n                    <i className='iconfont'>&#xe790;</i>\r\n                    {moment(post.get('timestamp')).format('YYYY-MM-DD HH:mm:ss')}\r\n                </PostTime>\r\n                {tags.get('count')===0? '':\r\n                <PostTag>\r\n                    <i className='iconfont'>&#xe637;</i>\r\n                    {post.get('tags').map((i) => i+' ')}\r\n                </PostTag>}\r\n                {token?\r\n                <Link to={'/edit/' + post.get('id')}>\r\n                    <Edit >编辑</Edit>\r\n                </Link>:''}\r\n            </HeaderAddition>\r\n        </PostHeader>\r\n        <Content \r\n            dangerouslySetInnerHTML={{__html:post.get('body')}}\r\n        />\r\n        {tags.get('count')===0? \r\n        <Footer>相关标签：无</Footer>:\r\n        <Footer>\r\n            相关标签：\r\n            {tags.get('tags').map((item)=>(\r\n            <Link to={'/tags/' + item.get('id')}\r\n            key={item.get('id')} \r\n            >\r\n                <FooterTag >\r\n                    {item.get('name')}\r\n                </FooterTag>\r\n            </Link>)\r\n            )}\r\n        </Footer>}\r\n    </div>\r\n    )\r\n};\r\n\r\nexport default Post;","import React from 'react';\r\nimport moment from \"moment\";\r\n\r\nimport { \r\n\tCommentWrapper,\r\n\tCommentLabel,\r\n\tListInfo,\r\n\tListAddition,\r\n\tListItem,\r\n\tAuthor,\r\n\tFloor,\r\n\tCommentBody,\r\n\tListFooter,\r\n    MoreComment,\r\n    AuthorBadge,\r\n    Operation,\r\n    ReplyWrapper,\r\n    FooterItem,\r\n    ReplyArea,\r\n    SubmitCommentButton,\r\n    CancelButton\r\n} from '../style';\r\n\r\nconst Comments =(props)=> {\r\n    const{\r\n        comments,nextComment, token,post,activeID, replyContent,toAdmin,replyTo,\r\n        getMoreComment,handleDeleteComment,handleReplyChange,handleReplySubmit,\r\n        toggleComment,showReply,byIDList,showReplyArea, cancelReply,getMoreReply,\r\n        toggleReply,handleDeleteReply\r\n    }=props\r\n\treturn (\r\n        <CommentWrapper>\r\n            {comments.size===0? \r\n            <CommentLabel>\r\n                暂无评论\r\n            </CommentLabel>:\r\n            <div>\r\n                <CommentLabel>\r\n                    评论：\r\n                </CommentLabel>\r\n                {comments.map(item=>(\r\n                <ListItem key={item.get('id')}>\r\n                    <ListInfo>\r\n                        <ListAddition>\r\n                            <Author>{item.get('author')}\r\n                            {item.get('from_admin')?\r\n                            <AuthorBadge>作者</AuthorBadge>:''}\r\n                            </Author>\r\n                            <Floor>\r\n                            {`${item.get('floor')}楼  ${moment(item.get('timestamp')).format('YYYY-MM-DD HH:mm')}`}\r\n                            {token && !item.get('is_read')?\r\n                            <Operation onClick={()=>toggleComment(item.get('id'),token,post.get('comments_url'))}>\r\n                                标为已读</Operation>:''}\r\n                            {token?\r\n                            <Operation onClick={()=>handleDeleteComment(item.get('id'),token,post.get('comments_url'))}>\r\n                                删除\r\n                            </Operation>:''}\r\n                            </Floor>\r\n                        </ListAddition>\r\n                        <CommentBody>\r\n                            {item.get('body')}\r\n                        </CommentBody>\r\n                        {!byIDList.getIn([`${item.get('id')}`,'show']) || byIDList.getIn([`${item.get('id')}`,'count'])===0?'':               \r\n                            <ReplyWrapper >\r\n                            {byIDList.getIn([`${item.get('id')}`,'replyList']).map(item=>(\r\n                                <ListItem \r\n                                key={item.get('id')}\r\n                                className='reply'>\r\n                                    <ListAddition>\r\n                                        <Author className='reply'>\r\n                                            {item.get('author')}<span style={{color:'#8590a6'}}> 回复 </span>{item.get('to')}\r\n                                        </Author>\r\n                                        <Floor className='reply'>\r\n                                            {moment(item.get('timestamp')).format('YYYY-MM-DD HH:mm')}\r\n                                            {token && !item.get('is_read')?\r\n                                            <Operation onClick={()=>toggleReply(item.get('id'),token,item.get('comment_id'))}>\r\n                                                标为已读 \r\n                                            </Operation>:''}\r\n                                            {token?\r\n                                            <Operation onClick={()=>handleDeleteReply(item.get('id'),token,item.get('comment_id'))}>\r\n                                                删除 \r\n                                            </Operation>:''}\r\n                                        </Floor>\r\n                                    </ListAddition>\r\n                                    <CommentBody className='reply'>\r\n                                        {item.get('body')}\r\n                                    </CommentBody>\r\n                                    <ListFooter>\r\n                                        <FooterItem className='reply'\r\n                                        onClick={()=>showReplyArea(item.get('comment_id'),activeID,item.get('author'),item.get('from_admin'))}\r\n                                        >\r\n                                        <i className= 'iconfont reply'>&#xe61e;</i>\r\n                                            回复\r\n                                        </FooterItem>\r\n                                    </ListFooter>\r\n                                </ListItem>\r\n                        ))}\r\n                        {\r\n                        byIDList.getIn([`${item.get('id')}`,'next'])? \r\n                        <MoreComment \r\n                        className='reply'\r\n                        onClick={() => getMoreReply(item.get('id'),byIDList.getIn([`${item.get('id')}`,'next']))}>\r\n                        更多评论\r\n                        </MoreComment>\r\n                        :<MoreComment\r\n                        className='reply'\r\n                        >暂无更多</MoreComment>\r\n                        }\r\n                        </ReplyWrapper>\r\n                        }\r\n                        {byIDList.getIn([`${item.get('id')}`,'showReplyArea'])?\r\n                        <div>\r\n                        <ReplyArea\r\n                        onChange={handleReplyChange}\r\n                        value={replyContent}\r\n                        />\r\n                        <SubmitCommentButton \r\n                        onClick={()=>handleReplySubmit(replyContent,replyTo,activeID,toAdmin)}\r\n                        className='reply'\r\n                        >\r\n                            评论\r\n                        </SubmitCommentButton> \r\n                        <CancelButton onClick={()=>cancelReply(item.get('id'))}>\r\n                            取消\r\n                        </CancelButton>\r\n                        </div>:''}\r\n                        <ListFooter>\r\n                            {byIDList.getIn([`${item.get('id')}`,'count'])===0?'':\r\n                            <FooterItem onClick = {()=>showReply(item.get('id'),\r\n                            byIDList.getIn([`${item.get('id')}`,'replyList']))}>\r\n                                {byIDList.getIn([`${item.get('id')}`,'show'])? '收起评论':'查看评论'}\r\n                            </FooterItem>}\r\n                            <FooterItem \r\n                            onClick={()=>showReplyArea(item.get('id'),activeID,item.get('author'),item.get('from_admin'))}\r\n                            >\r\n                                <i className= 'iconfont'>&#xe61e;</i>\r\n                                回复\r\n                            </FooterItem>\r\n                        </ListFooter>\r\n                    </ListInfo>\r\n                    \r\n                </ListItem>\r\n                    )\r\n                )}\r\n                {\r\n                nextComment? \r\n                <MoreComment onClick={() => getMoreComment(nextComment)}>&gt;&gt;&gt; 更多评论 &lt;&lt;&lt;</MoreComment>\r\n                :\r\n                <MoreComment>&gt;&gt;&gt; 暂无更多 &lt;&lt;&lt;</MoreComment>\r\n                }\r\n            </div>}\r\n        </CommentWrapper>\t\t\r\n\t)\r\n}\r\n\r\nexport default Comments;","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { actionCreators } from './store';\r\nimport{ withRouter } from 'react-router-dom'\r\nimport BackTop from '../../common/backtop';\r\nimport Header  from '../../common/header/index';\r\nimport Post from './components/Post'\r\nimport Comments from './components/Comments'\r\nimport { \r\n\tDetailWrapper,\r\n    AddComment,\r\n    AddCommentWrapper,\r\n\tSubmitCommentButton,\r\n} from './style';\r\n\r\nclass Detail extends Component {\r\n  state={ commentValue: ''}\r\n\trender() {\r\n    const{ commentValue }=this.state\r\n\t\treturn (\r\n\t\t<div>\r\n\t\t\t<Header/>\r\n            <BackTop scrollTop='1500'/>\r\n\t\t\t<DetailWrapper>\r\n                <Post {...this.props}/>\r\n                <AddCommentWrapper>\r\n                    <AddComment\r\n                    value={commentValue}\r\n                    onChange={this.handleCommentChange}\r\n                    />\r\n                    <SubmitCommentButton \r\n                    onClick={()=>this.handleCommentSubmit(this.props.post.get('id'))}>\r\n                        评论\r\n                    </SubmitCommentButton>\r\n                </AddCommentWrapper>\r\n                <Comments {...this.props}/>\r\n\t\t\t</DetailWrapper>\r\n\t\t</div>\r\n\t\t)\r\n    }\r\n  \r\n    handleCommentChange = (e)=>{\r\n        this.setState({commentValue:e.target.value})\r\n    }\r\n\r\n    handleCommentSubmit = (postID)=>{\r\n\t\tif (this.state.commentValue.length===0){\r\n\t\t\talert('内容不能为空！')\r\n\t\t\treturn;\r\n\t\t}else{\r\n            this.props.submitComment(this.state.commentValue,postID)\r\n            this.setState({commentValue:''})}\r\n    }\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.props.getDetail(this.props.match.params.id)\r\n\t}\r\n\r\n\tcomponentWillMount(){\r\n\t\twindow.scrollTo(0,0)\r\n\t}\r\n}\r\n\r\nconst mapState = (state) => ({\r\n\tactiveID: state.getIn(['detail','activeID']),\r\n\ttoken: state.getIn(['login','token']),\r\n\tpost: state.getIn(['detail', 'post']),\r\n\ttags:state.getIn(['detail', 'tags']),\r\n\tcomments:state.getIn(['detail', 'comments']),\r\n\tnextComment:state.getIn(['detail', 'nextComment']),\r\n\tbyIDList: state.getIn(['detail','byIDList']),\r\n\treplyContent:state.getIn(['detail','replyContent']),\r\n\treplyTo:state.getIn(['detail','replyTo']),\r\n\ttoAdmin:state.getIn(['detail','toAdmin'])\r\n});\r\n\r\nconst mapDispatch = (dispatch) => ({\r\n\tsubmitComment(comment,id){\r\n\t\tdispatch(actionCreators.submitComment(comment,id))\r\n\t},\r\n\tgetDetail(id){\r\n\t\tdispatch(actionCreators.getDetail(id))\r\n\t},\r\n\tgetMoreComment(nextComment){\r\n\t\tdispatch(actionCreators.getMoreComment(nextComment))\r\n\t},\r\n\thandleDeleteComment(id,token,url){\r\n\t\tlet confirmDelete = window.confirm('确认删除？')\r\n\t\tif (confirmDelete){\r\n\t\t\tdispatch(actionCreators.deleteComment(id,token,url))\r\n\t\t}else{\r\n\t\treturn;\r\n\t\t}\r\n\t},\r\n\ttoggleComment(id,token,url){\r\n\t\tdispatch(actionCreators.toggleComment(id,token,url))\r\n\t},\r\n\tshowReply(id,list){\r\n\t\tif (list.size===0){\r\n\t\t\tdispatch(actionCreators.getReply(id))\r\n\t\t}\r\n\t\tdispatch(actionCreators.showReply(id))\r\n\t},\r\n\tshowReplyArea(id,preID,replyTo,toAdmin){\r\n\t\tdispatch(actionCreators.showReplyArea(id,preID, replyTo,toAdmin))\r\n\t},\r\n\tcancelReply(id){\r\n\t\tdispatch(actionCreators.cancelReply(id))\r\n\t},\r\n\thandleReplyChange(e){\r\n\t\tdispatch(actionCreators.replyChange(e.target.value))\r\n\t},\r\n\thandleReplySubmit(value,to,id,toAdmin){\r\n\t\tif (value.length===0){\r\n\t\t\talert('内容不能为空！')\r\n\t\t\treturn;}else{\r\n\t\tdispatch(actionCreators.replySubmit(value,to,id,toAdmin))\r\n\t}},\r\n\tgetMoreReply(id, next){\r\n\t\tdispatch(actionCreators.getMoreReply(id, next))\r\n\t},\r\n\ttoggleReply(replyID,token,commentID){\r\n\t\tdispatch(actionCreators.toggleReply(replyID,token,commentID))\r\n\t},\r\n\thandleDeleteReply(replyID,token,commentID){\r\n\t\tlet confirmDelete = window.confirm('确认删除？')\r\n\t\tif (confirmDelete){\r\n\t\t\tdispatch(actionCreators.deleteReply(replyID,token,commentID))\r\n\t\t}else{\r\n\t\treturn;\r\n\t\t}\r\n\t},\r\n});\r\n\r\nexport default connect(mapState, mapDispatch)(withRouter(Detail));\r\n"],"sourceRoot":""}