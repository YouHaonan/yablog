{"version":3,"sources":["pages/home/store/constants.js","pages/home/store/reducer.js","pages/home/store/actionCreators.js","pages/home/store/index.js","style.js","pages/home/style.js","pages/home/components/List.js","pages/home/components/SideBar.js","pages/home/index.js","pages/detail/loadable.js","pages/login/loadable.js","pages/edit/loadable.js","pages/message/loadable.js","pages/notfound/index.js","store/reducer.js","store/index.js","App.js","index.js","common/header/store/reducer.js","common/header/store/actionCreators.js","common/header/store/constants.js","common/header/store/index.js","utils.js","pages/login/store/reducer.js","pages/login/store/constants.js","pages/login/store/actionCreators.js","pages/login/store/index.js","common/backtop/index.js","common/header/style.js","common/header/index.js","pages/edit/store/constants.js","pages/edit/store/reducer.js","pages/edit/store/actionCreators.js","pages/edit/store/index.js","pages/detail/store/constants.js","pages/detail/store/reducer.js","pages/detail/store/actionCreators.js","pages/detail/store/index.js","pages/message/store/constants.js","pages/message/store/reducer.js","pages/message/store/actionCreators.js","pages/message/store/index.js","statics/logo.png"],"names":["PATH_BATH","defaultState","fromJS","articleList","articleNextPage","fixedSideBar","tagList","tagNextPage","reducer","state","arguments","length","undefined","action","type","merge","changeHomePost","changeHomeTag","get","concat","list","nextPage","addArticleList","set","fixed","tags","tagNext","changeTags","nextTagPage","changeTagPosts","getPosts","tagID","tagPostsUrl","axios","constants","getHomeInfo","searchKey","dispatch","getState","getIn","size","all","then","spread","posts","postList","data","next","res","changeTagPage","nexturl","result","getMoreList","addHomeList","getTagPosts","tagPosts","nextTagPostPage","toggleFixedSide","deletePost","postID","method","url","headers","Authorization","status","catch","err","response","__webpack_require__","d","__webpack_exports__","actionCreators_namespaceObject","GlobalStyle","createGlobalStyle","_templateObject","HomeWrapper","styled","div","style_templateObject","HomeLeft","_templateObject2","HomeRight","_templateObject3","ListWrapper","_templateObject4","ListItem","_templateObject5","ListInfo","_templateObject6","ListAddition","_templateObject7","ListTag","_templateObject8","ListTime","_templateObject9","ListEdit","_templateObject10","LoadMore","_templateObject11","SideBarWrapper","_templateObject12","CategoryTitle","_templateObject13","SearchMore","span","_templateObject14","CategoryItem","_templateObject15","ItemWrapper","_templateObject16","Footer","_templateObject17","FooterItem","_templateObject18","withRouter","props","token","react_default","a","createElement","map","item","key","Link","to","className","moment","format","i","onClick","match","params","id","dangerouslySetInnerHTML","__html","delHtmlTag","substr","SideBar","handleChangeTagPage","logOut","Home","header","components_List","this","components_SideBar","backtop","scrollTop","window","addEventListener","handleFixSideBar","changeHomeData","nextProps","location","pathname","scrollTo","removeEventListener","Component","connect","showScroll","clicked","actionCreators","confirm","document","documentElement","body","logActionCreators","logout","LoadableComponent","Loadable","loader","e","bind","loading","pastDelay","delay","loadable","login_loadable","loadable_LoadableComponent","Promise","edit_loadable","edit_loadable_LoadableComponent","message_loadable","message_loadable_LoadableComponent","NotFound","style","fontWeight","combineReducers","headerReducer","home","homeReducer","detail","detailReducer","login","loginReducer","editor","editorReducer","message","messageReducer","store","createStore","applyMiddleware","thunk","App","es","BrowserRouter","Switch","Route","path","exact","component","Editor","Message","Detail","Login","ReactDOM","render","src_App","getElementById","focused","inputValue","SEARCH_FOCUS","SEARCH_BLUR","INPUT_CHANGE","searchFocus","searchBlur","inputChange","target","value","searchPost","q","artileList","homeActionCreators","constants_namespaceObject","getName","str","replace","parseInt","Math","random","username","password","post","grant_type","access_token","changeLogin","error","alert","Backtop","BackTop","_this","Object","D_reacty_yablog_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","D_reacty_yablog_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","D_reacty_yablog_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","handleScrollTop","D_reacty_yablog_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__","changeScrollTopShow","timer","cancelAnimationFrame","requestAnimationFrame","fn","oTop","setState","bindEvents","react__WEBPACK_IMPORTED_MODULE_7___default","HeaderWrapper","NavHeader","Logo","logoPic","Nav","NavItem","Addition","SearchWrapper","NavSearch","input","attrs","placeholder","handleInputFocus","handleInputBlur","handleInputChange","handleSearch","history","push","handleKeyDown","which","react_transition_group","in","timeout","classNames","onFocus","onBlur","onChange","onKeyDown","onMouseDown","href","title","photoName","setInitialPost","submitSuccess","editPost","content","ID","nameList","getInitialPost","join","getPost","upLoadFn","param","fd","FormData","config","onUploadProgress","progressEvent","percentCompleted","round","loaded","total","progress","append","file","photo_name","success","getPhotoName","changeBody","editorState","changeTag","changeTitle","clearStatus","comments","nextComment","byIDList","activeID","replyContent","replyTo","toAdmin","getByIDList","commentsByID","forEach","show","replyList","showReplyArea","count","getHomeDetail","addMoreComment","setIn","addMoreReply","newComments","pop","insert","comment","slice","addNewComment","getComment","showReply","preID","changeReply","cancelReply","newCount","addCount","subCount","newReplies","reply","addNewReply","getDetail","tags_url","getPostTag","comments_url","getPostComment","commentList","changeDetail","getMoreComment","getMoreReply","replies","submitComment","localAuthorName","localStorage","getItem","author","setItem","newComment","replySubmit","to_admin","newReply","getReply","deleteComment","deleteReply","replyID","commentID","toggleComment","toggleReply","replyChange","messages","commentNext","replyNext","commentCount","replyCount","getMessage","getUnreadMessage","getComments","getReplies","moreComment","moreReply","toggleStatus","name","deleteMessage","module","exports"],"mappings":"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","file":"static/js/main.d75d6498.chunk.js","sourcesContent":["export const CHANGE_HOME_POST = 'home/CHANGE_HOME_POST';\r\nexport const CHANGE_HOME_TAG = 'home/CHANGE_HOME_TAG';\r\nexport const ADD_ARTICLE_LIST = 'home/ADD_ARTICLE_LIST';\r\nexport const TOGGLE_FIXED_SIDE = 'home/TOGGLE_FIXED_SIDE';\r\nexport const CHANGE_TAGS = 'home/CHANGE_TAGS';\r\nexport const CHANGE_TAG_POSTS = 'home/CHANGE_TAG_POSTS';\r\n\r\nexport const PATH_BATH = 'http://47.102.41.155'","import { fromJS } from 'immutable';\r\nimport * as constants from './constants';\r\n\r\nconst defaultState = fromJS({\r\n\tarticleList: [],\r\n\tarticleNextPage:'',\r\n\tfixedSideBar: false,\r\n\ttagList:[],\r\n\ttagNextPage:'',\r\n});\r\n\r\nconst changeHomePost = (state, action) => {\r\n\treturn state.merge({\r\n\t\tarticleList: action.articleList,\r\n\t\tarticleNextPage: action.articleNextPage\r\n\t});\r\n};\r\n\r\nconst changeHomeTag = (state, action) => {\r\n\treturn state.merge({\r\n\t\ttagList:action.tagList,\r\n\t\ttagNextPage:action.tagNextPage\r\n\t});\r\n};\r\n\r\nconst addArticleList = (state, action) => {\r\n\treturn state.merge({\r\n\t\t'articleList': state.get('articleList').concat(action.list),\r\n\t\t'articleNextPage': action.nextPage\r\n\t});\r\n};\r\n\r\nconst changeTags = (state, action) => {\r\n\treturn state.merge({\r\n\t\t'tagList': action.tags,\r\n\t\t'tagNextPage': action.tagNext\r\n\t});\r\n};\r\n\r\nconst changeTagPosts = (state, action) =>{\r\n\treturn state.merge({\r\n\t\t'articleList': action.list,\r\n\t\t'articleNextPage': action.nextTagPage\r\n\t})\r\n}\r\n\r\nexport default (state = defaultState, action) => {\r\n\tswitch(action.type) {\r\n\t\tcase constants.CHANGE_HOME_POST:\r\n\t\t\treturn changeHomePost(state, action);\r\n\t\tcase constants.CHANGE_HOME_TAG:\r\n\t\t\treturn changeHomeTag(state, action);\r\n\t\tcase constants.ADD_ARTICLE_LIST:\r\n\t\t\treturn addArticleList(state, action);\r\n\t\tcase constants.TOGGLE_FIXED_SIDE:\r\n\t\t\treturn state.set('fixedSideBar', action.fixed);\r\n\t\tcase constants.CHANGE_TAGS:\r\n\t\t\treturn changeTags(state, action)\r\n\t\tcase constants.CHANGE_TAG_POSTS:\r\n\t\t\treturn changeTagPosts(state, action)\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}","import axios from 'axios';\r\nimport * as constants from './constants';\r\nimport { fromJS } from 'immutable';\r\n\r\nconst getPosts=tagID=> {\t\r\n\tconst tagPostsUrl=\r\n\t(typeof(tagID) === 'undefined')? '/api/posts/':\r\n\t`/api/tags/${tagID}/posts/`\r\n\treturn axios.get(constants.PATH_BATH + tagPostsUrl);\r\n};\r\n  \r\nconst getTags=()=> {\r\n\t// const tagList = JSON.parse(sessionStorage.getItem('tagList')) || axios.get(constants.PATH_BATH + '/api/tags/');\r\n\t// return tagList\r\n\treturn axios.get(constants.PATH_BATH + '/api/tags/');\r\n};\r\n\r\nconst shouldGetTags = state => {\r\n\treturn state.getIn(['home','tagList']).size===0 \r\n  };\r\n\r\n\r\n\r\nconst changeHomeTag = (tags) => ({\r\n\ttype: constants.CHANGE_HOME_TAG,\t\r\n\ttagList: fromJS(tags.tags),\r\n\ttagNextPage:tags.next\r\n});\r\n\r\n\r\nconst addHomeList = (list, nextPage) => ({\r\n\ttype: constants.ADD_ARTICLE_LIST,\r\n\tlist: fromJS(list),\r\n\tnextPage\r\n});\r\n\r\nconst changeTags =(result, tagNext)=>({\r\n\ttype:constants.CHANGE_TAGS,\r\n\ttags: fromJS(result),\r\n\ttagNext\r\n});\r\n\r\nconst changeTagPosts = (tagPosts,nextTagPostPage) => ({\r\n\ttype: constants.CHANGE_TAG_POSTS,\r\n\tlist: fromJS(tagPosts),\r\n\tnextTagPostPage\r\n});\r\n\r\nexport const changeHomePost = (articleList,articleNextPage) => ({\r\n\ttype: constants.CHANGE_HOME_POST,\r\n\tarticleList: fromJS(articleList),\r\n\tarticleNextPage\r\n});\r\n\r\nexport const getHomeInfo = (tagID,searchKey) => {\r\n\treturn (dispatch,getState) => {\r\n\t\tif (shouldGetTags(getState())){\r\n\t\t\taxios.all([getPosts(tagID), getTags()])\r\n\t\t.then(axios.spread(function (posts, tags)\r\n\t\t{\r\n\t\t\tconst postList = posts.data.posts;\r\n\t\t\tconst nextPage = posts.data.next;\r\n\t\t\tconst tagList =  tags.data;\r\n\t\t\tdispatch(changeHomePost(postList,nextPage))\r\n\t\t\tdispatch(changeHomeTag(tagList))\r\n\t\t}));\r\n\t\t}else if(searchKey){\r\n\t\t\treturn;\r\n\t\t}else{\r\n\t\t\tgetPosts(tagID).then(\r\n\t\t\t\tres=>{\r\n\t\t\t\tconst postList = res.data.posts;\r\n\t\t\t\tconst nextPage = res.data.next;\r\n\t\t\t\tdispatch(changeHomePost(postList,nextPage))\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\t\t\r\n\t\t\r\n\t}\r\n}\r\n\r\nexport const changeTagPage = (tagNext) =>{\r\n\treturn(dispatch) =>{\r\n\t\tconst nexturl = tagNext || '/api/tags/'\r\n\t\taxios.get(constants.PATH_BATH + nexturl).then(\r\n\t\t\t(res)=>{\r\n\t\t\t\t// const tagList = JSON.stringify(res)\r\n\t\t\t\t// sessionStorage.setItem('tagList',tagList)\r\n\t\t\t\tconst result = res.data.tags;\r\n\t\t\t\tconst tagNext = res.data.next;\r\n\t\t\t\tdispatch(changeTags(result, tagNext))\r\n\t\t\t}\r\n\t\t)\r\n\t}\r\n\t\r\n}\r\n\r\n\r\nexport const getMoreList = (nextPage) => {\r\n\treturn (dispatch) => {\r\n\t\taxios.get(constants.PATH_BATH + nextPage).then((res) => {\r\n\t\t\tconst result = res.data.posts;\r\n\t\t\tconst nextPage = res.data.next;\r\n\t\t\tdispatch(addHomeList(result, nextPage));\r\n\t\t});\r\n\t}\r\n}\r\n\r\nexport const getTagPosts = tagID =>{\r\n\treturn(dispatch) =>{\r\n\t\tif (typeof(tagID)==='undefined'){\r\n\t\t\taxios.get(constants.PATH_BATH + '/api/posts/').then(res=>{\r\n\t\t\t\tconst postList = res.data.posts;\r\n\t\t\t\tconst nextPage = res.data.next;\r\n\t\t\t\tdispatch(changeHomePost(postList,nextPage))\r\n\t\t\t})}else{\r\n\t\t\taxios.get(constants.PATH_BATH + `/api/tags/${tagID}/posts/`).then(\r\n\t\t\t\tres=>{\r\n\t\t\t\tconst tagPosts = res.data.posts;\r\n\t\t\t\tconst nextTagPostPage=res.data.next\r\n\t\t\t\tdispatch(changeTagPosts(tagPosts,nextTagPostPage))\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t}\r\n\t\r\n}}\r\n\r\nexport const toggleFixedSide = (fixed) => ({\r\n\ttype: constants.TOGGLE_FIXED_SIDE,\r\n\tfixed\r\n})\r\n\r\nexport const deletePost = (postID, tagID) =>{\r\n\treturn(dispatch,getState) =>{\r\n\t\taxios({\r\n\t\t\tmethod: 'delete',\r\n\t\t\turl: constants.PATH_BATH + `/api/posts/${postID}`,\r\n\t\t\theaders: {'Authorization':`Bearer ${getState().getIn(['login', 'token'])}`}\r\n\t\t}).then(\r\n\t\t\tfunction (res){\r\n\t\t\t\tif (res.status===204){\r\n\t\t\t\t\tgetPosts(tagID).then(\r\n\t\t\t\t\t\tres=>{\r\n\t\t\t\t\t\tconst postList = res.data.posts;\r\n\t\t\t\t\t\tconst nextTagPostPage=res.data.next;\r\n\t\t\t\t\t\tdispatch(changeHomePost(postList,nextTagPostPage))\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t).catch(function(err){\r\n\t\t\t\t\t\tif (err.response.status===404){\r\n\t\t\t\t\t\t\tdispatch(changeHomePost([],''))\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t)\r\n\t}\r\n\t\r\n}","import reducer from './reducer';\r\nimport * as actionCreators from './actionCreators';\r\nimport * as constants from './constants';\r\n\r\nexport { reducer, actionCreators, constants };","import {createGlobalStyle} from 'styled-components';\r\nexport const GlobalStyle = \r\ncreateGlobalStyle`\r\n  html, body, div, span, applet, object, iframe,\r\n  h1, h2, h3, h4, h5, h6, p, blockquote, pre,\r\n  a, abbr, acronym, address, big, cite, \r\n  del, dfn, img, ins, kbd, q, s, samp,\r\n  small, strike, sub, sup, tt, var,\r\n  b, u, i, center,\r\n  dl, dt, dd, ol, ul, li,\r\n  fieldset, form, label, legend,\r\n  table, caption, tbody, tfoot, thead, tr, th, td,\r\n  article, aside, canvas, details, embed, \r\n  figure, figcaption, footer, header, hgroup, \r\n  menu, nav, output, ruby, section, summary,\r\n  time, mark, audio, video {\r\n    margin: 0;\r\n    padding: 0;\r\n    border: 0;\r\n    vertical-align: baseline;\r\n  }\r\n  /* HTML5 display-role reset for older browsers */\r\n  article, aside, details, figcaption, figure, \r\n  footer, header, hgroup, menu, nav, section {\r\n    display: block;\r\n  }\r\n  body {\r\n    line-height: 1;\r\n  }\r\n  ol, ul {\r\n    list-style: none;\r\n  }\r\n  blockquote, q {\r\n    quotes: none;\r\n  }\r\n  blockquote:before, blockquote:after,\r\n  q:before, q:after {\r\n    content: '';\r\n    content: none;\r\n  }\r\n  table {\r\n    border-collapse: collapse;\r\n    border-spacing: 0;\r\n  }\r\n\r\n  @font-face {font-family: \"iconfont\";\r\n  src: url('./statics/iconfont/iconfont.eot?t=1543320344114'); /* IE9*/\r\n  src: url('./statics/iconfont/iconfont.eot?t=1543320344114#iefix') format('embedded-opentype'), /* IE6-IE8 */\r\n  url('data:application/x-font-woff;charset=utf-8;base64,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') format('woff'),\r\n  url('./statics/iconfont/iconfont.ttf?t=1543320344114') format('truetype'), /* chrome, firefox, opera, Safari, Android, iOS 4.2+*/\r\n  url('./statics/iconfont/iconfont.svg?t=1543320344114#iconfont') format('svg'); /* iOS 4.1- */\r\n}\r\n\r\n.iconfont {\r\n  font-family:\"iconfont\" !important;\r\n  font-size:16px;\r\n  font-style:normal;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n}\r\n\r\n`;","import styled from 'styled-components';\r\n\r\nexport const HomeWrapper = styled.div`\r\n\twidth: 1100px;\r\n\tmargin: 0 auto;\r\n\toverflow:hidden;\r\n`;\r\n\r\nexport const HomeLeft = styled.div`\r\n\tfloat: left;\r\n\tmargin-left: 15px;\r\n\tpadding-top: 100px;\r\n\twidth: 680px;\r\n`;\r\n\r\nexport const HomeRight = styled.div`\r\n\tmargin-top: 200px;\r\n\twidth: 350px;\r\n\tfloat: right;\r\n`;\r\n\r\nexport const ListWrapper = styled.div`\r\n\toverflow: hidden;\r\n\tmin-height:150px;\r\n`;\r\n\r\nexport const ListItem = styled.div`\r\n\toverflow: hidden;\r\n\tpadding: 20px 0;\r\n\tborder-bottom: 1px solid #dcdcdc;\r\n`;\r\n\r\nexport const ListInfo =\tstyled.div`\r\n\twidth: 680px;\r\n\tfloat: left;\r\n\t.title {\r\n\t\tline-height: 40px;\r\n\t\tfont-size: 25px;\r\n\t\tfont-weight: bold;\r\n\t\tcolor: #333;\r\n\t}\r\n\t.body {\r\n\t\tline-height: 30px;\r\n\t\tfont-size: 16px;\r\n\t\tcolor: #999;\r\n\t}\r\n\t.itemLink{\r\n\t\ttext-decoration: none;\r\n\t}\r\n`;\r\n\r\nexport const ListAddition =\tstyled.div`\r\n\tline-height:30px;\r\n\toverflow:hidden;\r\n\tcolor:#999;\r\n\tfont-size:13px;\r\n\t.iconfont{\r\n\t\tpadding-right:5px;\r\n\t}\r\n\r\n`;\r\n\r\nexport const ListTag =\tstyled.div`\r\n\tfloat:left;\r\n\tmargin-left:20px;\r\n`;\r\n\r\nexport const ListTime =\tstyled.div`\r\n\tfloat:left;\r\n`;\r\n\r\nexport const ListEdit =\tstyled.div`\r\n\tcursor: pointer;\r\n\tfloat:right;\r\n\tmargin-right:20px;\r\n`;\r\n\r\nexport const LoadMore = styled.div`\r\n\twidth: 100%;\r\n\theight: 40px;\r\n\tline-height: 40px;\r\n\tmargin: 30px 0;\r\n\tbackground: #a5a5a5;\r\n\ttext-align:center;\r\n\tborder-radius: 20px;\r\n\tcolor: #fff;\r\n\tcursor: pointer;\r\n`;\r\n\r\nexport const SideBarWrapper = styled.div`\r\n\t&.sidefixed{\r\n\t\tposition:fixed;\r\n\t\ttop:100px;\r\n\t}\r\n`;\r\n\r\nexport const CategoryTitle = styled.div`\r\n\twidth: 320px;\r\n\tline-height:36px;\r\n\tmargin-bottom: 15px;\r\n\tfont-size:36px;\r\n\tcolor:#666\r\n\t.iconfont{\r\n\t\tfont-size:25px;\r\n\t\tpadding-right:5px;\r\n\t}\r\n`;\r\n\r\nexport const SearchMore = styled.span` \r\n\tpadding-top:10px;\r\n\tfloat: right;\r\n    font-size: 16px;\r\n\tcursor :pointer;\r\n\tcolor:#666;\r\n\t.iconfont{\r\n\t\tfont-size:16px;\r\n\r\n`;\t\r\n\r\nexport const CategoryItem = styled.span` \r\n    display: block;\r\n    float: left;\r\n    font-size: 14px;\r\n    padding: 0 10px;\r\n    line-height: 30px;\r\n    border: 1px solid #ddd;\r\n    color:#787878;\r\n    border-radius: 5px;\r\n    margin-right: 15px;\r\n    margin-bottom: 15px;\r\n\tcursor :pointer;\r\n`;\r\n\r\nexport const ItemWrapper = styled.div` \r\n\tmin-height:150px;\r\n\tposition: relative;\r\n\tmargin-top:30px;\r\n\tmargin-left:20px;\r\n    width: 320px;\r\n\toverflow: hidden;\r\n\tbox-shadow: 0 0 8px rgba(0,0,0,0.2);\r\n\tpadding: 20px 0 0 20px;\r\n\tbox-sizing: border-box;\r\n`;\r\n\r\nexport const Footer = styled.div`\r\n\tposition:relative;\r\n\tmargin-left:40px;\r\n\tmargin-top:130px;\r\n\t.log{\r\n\t\ttext-decoration: none;\r\n\t}\r\n`;\r\n\r\nexport const FooterItem = styled.div`\r\n\tline-height:16px;\r\n\tcolor:#777;\r\n\tpadding-top:15px;\r\n\t&.logout{\r\n\t\tcursor:pointer\r\n\t}\r\n`;\r\n","import React from 'react';\r\nimport moment from \"moment\";\r\nimport { delHtmlTag } from '../../../utils';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport {\r\n\tListItem, \r\n\tListInfo, \r\n\tLoadMore,\r\n\tListAddition,\r\n\tListTag,\r\n\tListTime,\r\n\tListEdit,\r\n\tListWrapper\r\n } from '../style';\r\n\r\nconst List=(props)=>{\r\n\tconst { list, getMoreList, nextPage, token, deletePost } = props;\r\n\t\treturn (\r\n\t\t<div>\r\n\t\t\t<ListWrapper>\r\n\t\t\t{list.map((item) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t\t<ListItem key={item.get('id')}>\r\n\t\t\t\t\t\t\t<ListInfo>\r\n\t\t\t\t\t\t\t\t<Link  to={'/detail/' + item.get('id')} className='itemLink'>\r\n\t\t\t\t\t\t\t\t<h3 className='title'>{item.get('title')}</h3>\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t<ListAddition>\r\n\t\t\t\t\t\t\t\t\t<ListTime>\r\n\t\t\t\t\t\t\t\t\t\t< i className='iconfont'>&#xe790;</i>\r\n\t\t\t\t\t\t\t\t\t\t{moment(item.get('timestamp')).format('YYYY-MM-DD HH:mm:ss')}\r\n\t\t\t\t\t\t\t\t\t</ListTime>\r\n\t\t\t\t\t\t\t\t\t{item.get('tag_count')===0?'':\r\n\t\t\t\t\t\t\t\t\t<ListTag>\r\n\t\t\t\t\t\t\t\t\t\t<i className='iconfont'>&#xe637;</i>\r\n\t\t\t\t\t\t\t\t\t\t{item.get('tags').map((i) => i+' ')}\r\n\t\t\t\t\t\t\t\t\t</ListTag>}\r\n\t\t\t\t\t\t\t\t\t{token?\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<ListEdit \r\n\t\t\t\t\t\t\t\t\t\tonClick={()=>deletePost(item.get('id'), props.match.params.id)}>\r\n\t\t\t\t\t\t\t\t\t\t\t删除\r\n\t\t\t\t\t\t\t\t\t\t</ListEdit>\r\n\t\t\t\t\t\t\t\t\t\t<Link to={'/edit/' + item.get('id')}>\r\n\t\t\t\t\t\t\t\t\t\t<ListEdit>\r\n\t\t\t\t\t\t\t\t\t\t\t编辑\r\n\t\t\t\t\t\t\t\t\t\t</ListEdit>\r\n\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t:''}\r\n\t\t\t\t\t\t\t\t</ListAddition>\r\n\t\t\t\t\t\t\t\t<p className='body'\r\n\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{__html:delHtmlTag(item.get('body')).substr(0,256)+'...'}} \r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</ListInfo>\r\n\t\t\t\t\t\t</ListItem>\t\t\r\n\t\t\t\t\t)}\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t\t</ListWrapper>\r\n\t\t\t{\r\n\t\t\tnextPage? \r\n\t\t\t<LoadMore onClick={() => getMoreList(nextPage)}>显示更多</LoadMore>\r\n\t\t\t:\r\n\t\t\t<LoadMore>暂无更多</LoadMore>\r\n\t\t\t}\r\n\t\t</div>\r\n\t\t)\r\n}\t\r\n\r\n\r\nexport default(withRouter(List))","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport {\r\n\tCategoryTitle,\r\n\tSearchMore,\r\n\tCategoryItem,\r\n\tItemWrapper,\r\n\tSideBarWrapper,\r\n\tFooter,\r\n\tFooterItem\r\n } from '../style';\r\n\r\nconst SideBar = (props)=>{\r\n\tconst{ tagList, tagNextPage, handleChangeTagPage, fixedSideBar,token, logOut }=props\r\n\t\treturn (\r\n\t\t\t<SideBarWrapper className={fixedSideBar? 'sidefixed' : ''}>\r\n\t\t\t\t<CategoryTitle>\r\n\t\t\t\t\t<i className='iconfont'>&#xe607;</i>\r\n\t\t\t\t\t热门标签\r\n\t\t\t\t\t<SearchMore\r\n\t\t\t\t\tonClick={() => handleChangeTagPage(tagNextPage) }\r\n\t\t\t\t\t>\r\n\t\t\t\t\t<i className='iconfont'>&#xe794;</i>\r\n\t\t\t\t\t换一批\r\n\t\t\t\t\t</SearchMore>\r\n\t\t\t\t</CategoryTitle>\r\n\t\t\t\t<ItemWrapper>\r\n\t\t\t\t\t{tagList.map((item)=>(\r\n\t\t\t\t\t\t<Link to={'/tags/' + item.get('id')} key={item.get('id')}>\r\n\t\t\t\t\t\t\t<CategoryItem\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{item.get('name')}\r\n\t\t\t\t\t\t\t</CategoryItem>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t))}\t\t\t\t\t\r\n\t\t\t\t</ItemWrapper>\r\n\t\t\t\t<Footer>\r\n\t\t\t\t{token?\r\n\t\t\t\t\t<FooterItem \r\n\t\t\t\t\tonClick={logOut}\r\n\t\t\t\t\tclassName='logout'\r\n\t\t\t\t\t>Logout\r\n\t\t\t\t\t</FooterItem>:\r\n\t\t\t\t\t<Link to='/login' className='log'>\r\n\t\t\t\t\t\t<FooterItem>Login</FooterItem>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t<FooterItem>Powered by 阿里云</FooterItem>\r\n\t\t\t\t\t<FooterItem>Python · Flask · React</FooterItem>\r\n\t\t\t\t\t<FooterItem>Copyright © Ya Blog 2018</FooterItem>\r\n\t\t\t\t</Footer>\r\n\t\t\t</SideBarWrapper>\r\n\t\t)\r\n}\r\n\r\nexport default SideBar;","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport List from './components/List';\r\nimport SideBar from './components/SideBar';\r\nimport { actionCreators } from './store';\r\nimport BackTop from '../../common/backtop';\r\nimport Header  from '../../common/header/index';\r\nimport { actionCreators as logActionCreators } from '../login/store';\r\n\r\nimport { \r\n\tHomeWrapper,\r\n\tHomeLeft,\r\n\tHomeRight\r\n} from './style';\r\n\r\nclass Home extends Component {\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Header/>\r\n\t\t\t\t<HomeWrapper>\r\n\t\t\t\t\t<HomeLeft>\r\n\t\t\t\t\t\t<List{...this.props} />\r\n\t\t\t\t\t</HomeLeft>\r\n\t\t\t\t\t<HomeRight>\r\n\t\t\t\t\t\t<SideBar{...this.props}/>\r\n\t\t\t\t\t</HomeRight>\r\n\t\t\t\t\t<BackTop scrollTop='800'/>\r\n\t\t\t\t</HomeWrapper>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\twindow.addEventListener('scroll', this.props.handleFixSideBar);\r\n\t\tthis.props.changeHomeData(this.props.match.params.id, this.props.match.params.key);\r\n\t}\r\n\t\r\n\tcomponentWillReceiveProps(nextProps){\r\n\t\tif (nextProps.location.pathname !== this.props.location.pathname && !nextProps.match.params.key) {\r\n\t\tthis.props.getTagPosts(nextProps.match.params.id)\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillMount(){\r\n\t\twindow.scrollTo(0,0)\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\twindow.removeEventListener('scroll', this.props.handleFixSideBar);\r\n    }\r\n\r\n}\r\n\r\nconst mapState = (state) => ({\r\n\tlist: state.getIn(['home', 'articleList']),\r\n\tnextPage: state.getIn(['home', 'articleNextPage']),\r\n\ttoken: state.getIn(['login','token']),\r\n\tshowScroll: state.getIn(['home', 'showScroll']),\r\n\ttagList: state.getIn(['home','tagList']),\r\n\ttagNextPage: state.getIn(['home','tagNextPage']),\r\n\tclicked: state.getIn(['home','clicked']),\r\n\tfixedSideBar: state.getIn(['home', 'fixedSideBar'])\r\n});\r\n\r\nconst mapDispatch = (dispatch) => ({\r\n\tchangeHomeData(tagID,key) {\r\n\t\tdispatch(actionCreators.getHomeInfo(tagID,key));\r\n\t},\r\n\r\n\tgetTagPosts(tagID){\r\n        dispatch(actionCreators.getTagPosts(tagID));\r\n\t},\r\n\r\n\tgetMoreList(nextPage) {\r\n\t\tdispatch(actionCreators.getMoreList(nextPage))\r\n\t},\r\n\tdeletePost(postID,tagID) {\r\n\t\tlet confirmDelete = window.confirm('确认删除？')\r\n\t\tif (confirmDelete){\r\n\t\t\tdispatch(actionCreators.deletePost(postID,tagID))\r\n\t\t}else{\r\n\t\treturn;\r\n\t\t}\t\r\n\t},\r\n\thandleFixSideBar() {\r\n\t\tif (document.documentElement.scrollTop > 160||document.body.scrollTop > 160) {\r\n\t\t\tdispatch(actionCreators.toggleFixedSide(true))\r\n\t\t}else {\r\n\t\t\tdispatch(actionCreators.toggleFixedSide(false))\r\n\t\t}\r\n\t},\r\n\thandleChangeTagPage(tagNext){\r\n\t\tdispatch(actionCreators.changeTagPage(tagNext))\r\n\t},\r\n\r\n\tlogOut(){\r\n\t\tdispatch(logActionCreators.logout())\r\n\t}\r\n\r\n});\r\n\r\nexport default connect(mapState, mapDispatch)(Home);\r\n","import React from 'react';\r\nimport Loadable from 'react-loadable';\r\nfunction Loading(props) {\r\n  if (props.pastDelay) {\r\n    return <div>正在加载</div>;\r\n  } else {\r\n    return null;\r\n  }\r\n}\r\n\r\nconst LoadableComponent = Loadable({\r\n  loader: () => import('./'),\r\n  loading:Loading,\r\n  delay: 300\r\n});\r\n\r\nexport default () => <LoadableComponent/>","import React from 'react';\r\nimport Loadable from 'react-loadable';\r\nfunction Loading(props) {\r\n  if (props.pastDelay) {\r\n    return <div>正在加载</div>;\r\n  } else {\r\n    return null;\r\n  }\r\n}\r\n\r\nconst LoadableComponent = Loadable({\r\n  loader: () => import('./'),\r\n  loading:Loading,\r\n  delay: 300\r\n});\r\n\r\nexport default () => <LoadableComponent/>","import React from 'react';\r\nimport Loadable from 'react-loadable';\r\nfunction Loading(props) {\r\n  if (props.pastDelay) {\r\n    return <div>正在加载</div>;\r\n  } else {\r\n    return null;\r\n  }\r\n}\r\n\r\nconst LoadableComponent = Loadable({\r\n  loader: () => import('./'),\r\n  loading:Loading,\r\n  delay: 300\r\n});\r\n\r\nexport default () => <LoadableComponent/>","import React from 'react';\r\nimport Loadable from 'react-loadable';\r\nfunction Loading(props) {\r\n  if (props.pastDelay) {\r\n    return <div>正在加载</div>;\r\n  } else {\r\n    return null;\r\n  }\r\n}\r\n\r\nconst LoadableComponent = Loadable({\r\n  loader: () => import('./'),\r\n  loading:Loading,\r\n  delay: 300\r\n});\r\n\r\nexport default () => <LoadableComponent/>","import  React  from 'react';\r\nconst NotFound = ()=>\r\n    <div style = {{fontWeight:'bold'}}>此路不通</div>\r\n\r\n\r\nexport default NotFound;","import { combineReducers } from 'redux-immutable';\r\nimport { reducer as headerReducer } from '../common/header/store';\r\nimport { reducer as homeReducer } from '../pages/home/store';\r\nimport { reducer as detailReducer } from '../pages/detail/store';\r\nimport { reducer as loginReducer } from '../pages/login/store';\r\nimport { reducer as editorReducer } from '../pages/edit/store';\r\nimport { reducer as messageReducer } from '../pages/message/store';\r\n\r\nexport default combineReducers ({\r\n    header: headerReducer,\r\n    home: homeReducer,\r\n    detail: detailReducer,\r\n    login: loginReducer,\r\n    editor:editorReducer,\r\n    message: messageReducer\r\n});\r\n\r\n","import { createStore, applyMiddleware } from 'redux';\r\nimport reducer from './reducer';\r\nimport thunk from 'redux-thunk';\r\n\r\nconst store = createStore(\r\n    reducer,\r\n    applyMiddleware(thunk)\r\n);\r\n\r\nexport default store;\r\n\r\n// const composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ;\r\n// const store = createStore(reducer,composeEnhancers(\r\n//     applyMiddleware(thunk)\r\n// ));\r\n\r\n// export default store;\r\n\r\n","import React, { Component } from 'react';\nimport { GlobalStyle } from './style';\nimport { BrowserRouter, Route,Switch} from 'react-router-dom';\nimport Home from './pages/home';\nimport Detail from './pages/detail/loadable';\nimport Login from './pages/login/loadable';\nimport Editor from './pages/edit/loadable';\nimport Message from './pages/message/loadable';\nimport NotFound from './pages/notfound'\nimport { Provider } from 'react-redux';\nimport store from './store';\n\nclass App extends Component {\n  render() {\n    return (\n      <Provider store={store}>\n      <div>\n        <GlobalStyle/>\n        <BrowserRouter>\n          <Switch>\n              <Route path='/' exact component={Home}></Route>\n              <Route path='/search/:key' exact component={Home}></Route>\n              <Route path='/edit/:id' exact component={Editor}></Route>\n              <Route path='/newpost' exact component={Editor}></Route>\n              <Route path='/message' exact component={Message}></Route>\n              <Route path='/detail/:id' exact component={Detail}></Route>\n              <Route path='/tags/:id' component={Home}></Route>\n              <Route path='/login' component={Login}></Route>\n              <Route path='/'  component={NotFound}></Route>\n          </Switch>\n        </BrowserRouter>\n      </div>\n      </Provider>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));","import { constants } from './index';\r\nimport { fromJS } from 'immutable';\r\n\r\nconst defaultState = fromJS({\r\n    focused: false,\r\n    inputValue:'',\r\n   \r\n});\r\n\r\nexport default (state = defaultState, action) =>{\r\n    switch(action.type){\r\n        case constants.SEARCH_FOCUS:\r\n            return state.set('focused', true);\r\n        case constants.SEARCH_BLUR:\r\n            return state.set('focused', false);\r\n        case constants.INPUT_CHANGE:\r\n            return state.set('inputValue', action.inputValue);\r\n        default:\r\n            return state;\r\n        \r\n        \r\n\r\n    }\r\n}","import { constants } from './index';\r\nimport { fromJS } from 'immutable';\r\nimport{ actionCreators as homeActionCreators } from '../../../pages/home/store'\r\nimport axios from 'axios';\r\n\r\nexport const searchFocus = () => ({\r\n    type: constants.SEARCH_FOCUS\r\n})\r\n\r\nexport const searchBlur = () => ({\r\n    type: constants.SEARCH_BLUR\r\n})\r\n\r\nexport const inputChange=(e)=>({\r\n    type:constants.INPUT_CHANGE,\r\n    inputValue: fromJS(e.target.value)\r\n})\r\n\r\n\r\nexport const searchPost=(value)=>{\r\n    return(dispatch)=> {\r\n\t\taxios({\r\n            method: 'post',\r\n            url: constants.PATH_BATH + '/api/search/',\r\n            data: {\r\n                q:value\r\n            }\r\n        }).then(res=>{\r\n            const artileList = res.data.posts\r\n            const next = null\r\n            dispatch(homeActionCreators.changeHomePost(artileList,next))\r\n        })\r\n\t}\r\n}","export const SEARCH_FOCUS = 'header/SEARCH_FOCUS';\r\nexport const SEARCH_BLUR = 'header/SEARCH_BLUR';\r\nexport const INPUT_CHANGE = 'header/INPUT_CHANGE';\r\n\r\n\r\nexport const PATH_BATH = 'http://47.102.41.155'","import reducer from './reducer';\r\nimport * as actionCreators from './actionCreators';\r\nimport * as constants from './constants';\r\n\r\nexport { reducer, actionCreators, constants };","const delHtmlTag = (str) => str.replace(/<[^>]+>/g,\"\"); \r\nexport {delHtmlTag};\r\n\r\n// 生成随机姓名\r\nfunction getName(){\r\n    let familyNames = [\r\n            \"赵\",    \"钱\",    \"孙\",    \"李\",    \"周\",    \"吴\",    \"郑\",    \"王\",    \"冯\",    \"陈\",    \r\n            \"褚\",    \"卫\",    \"蒋\",    \"沈\",    \"韩\",    \"杨\",    \"朱\",    \"秦\",    \"尤\",    \"许\",\r\n            \"何\",    \"吕\",    \"施\",    \"张\",    \"孔\",    \"曹\",    \"严\",    \"华\",    \"金\",    \"魏\",    \r\n            \"陶\",    \"姜\",    \"戚\",    \"谢\",    \"邹\",    \"喻\",    \"柏\",    \"水\",    \"窦\",    \"章\",\r\n            \"云\",    \"苏\",    \"潘\",    \"葛\",    \"奚\",    \"范\",    \"彭\",    \"郎\",    \"鲁\",    \"韦\",    \r\n            \"昌\",    \"马\",    \"苗\",    \"凤\",    \"花\",    \"方\",    \"俞\",    \"任\",    \"袁\",    \"柳\",\r\n            \"酆\",    \"鲍\",    \"史\",    \"唐\",    \"费\",    \"廉\",    \"岑\",    \"薛\",    \"雷\",    \"贺\",    \r\n            \"倪\",    \"汤\",    \"滕\",    \"殷\",    \"罗\",    \"毕\",    \"郝\",    \"邬\",    \"安\",    \"常\",\r\n            \"乐\",    \"于\",    \"时\",    \"傅\",    \"皮\",    \"卞\",    \"齐\",    \"康\",    \"伍\",    \"余\",    \r\n            \"元\",    \"卜\",    \"顾\",    \"孟\",    \"平\",    \"黄\",    \"和\",    \"穆\",    \"萧\",    \"尹\"\r\n    ];\r\n    let givenNames =  [\r\n            \"子璇\", \"淼\", \"国栋\", \"夫子\", \"瑞堂\", \"甜\", \"敏\", \"尚\", \"国贤\", \"贺祥\", \"晨涛\", \r\n            \"昊轩\", \"易轩\", \"益辰\", \"益帆\", \"益冉\", \"瑾春\", \"瑾昆\", \"春齐\", \"杨\", \"文昊\", \r\n            \"东东\", \"雄霖\", \"浩晨\", \"熙涵\", \"溶溶\", \"冰枫\", \"欣欣\", \"宜豪\", \"欣慧\", \"建政\", \r\n            \"美欣\", \"淑慧\", \"文轩\", \"文杰\", \"欣源\", \"忠林\", \"榕润\", \"欣汝\", \"慧嘉\", \"新建\", \r\n            \"建林\", \"亦菲\", \"林\", \"冰洁\", \"佳欣\", \"涵涵\", \"禹辰\", \"淳美\", \"泽惠\", \"伟洋\", \r\n            \"涵越\", \"润丽\", \"翔\", \"淑华\", \"晶莹\", \"凌晶\", \"苒溪\", \"雨涵\", \"嘉怡\", \"佳毅\", \r\n            \"子辰\", \"佳琪\", \"紫轩\", \"瑞辰\", \"昕蕊\", \"萌\", \"明远\", \"欣宜\", \"泽远\", \"欣怡\", \r\n            \"佳怡\", \"佳惠\", \"晨茜\", \"晨璐\", \"运昊\", \"汝鑫\", \"淑君\", \"晶滢\", \"润莎\", \"榕汕\", \r\n            \"佳钰\", \"佳玉\", \"晓庆\", \"一鸣\", \"语晨\", \"添池\", \"添昊\", \"雨泽\", \"雅晗\", \"雅涵\", \r\n            \"清妍\", \"诗悦\", \"嘉乐\", \"晨涵\", \"天赫\", \"玥傲\", \"佳昊\", \"天昊\", \"萌萌\", \"若萌\"\r\n    ];\r\n    \r\n    let i = parseInt(10 * Math.random())*10 + parseInt(10 * Math.random());\r\n    let familyName = familyNames[i];\r\n    \r\n    let j = parseInt(10 * Math.random())*10 + parseInt(10 * Math.random());\r\n    let givenName = givenNames[j];\r\n    \r\n    let name = familyName + givenName;\r\n    return name;\r\n}\r\nexport{getName};","import { fromJS } from 'immutable';\nimport * as constants from './constants';\n\nconst defaultState = fromJS({\n\ttoken:''\n});\n\nexport default (state = defaultState, action) => {\n\tswitch(action.type) {\n\t\tcase constants.CHANGE_LOGIN:\n\t\t\treturn state.set('token', action.token);\n\t\tcase constants.LOGOUT:\n\t\t\treturn state.set('token', '');\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}","export const CHANGE_LOGIN = 'login/CHANGE_LOGIN';\nexport const LOGOUT = 'login/LOGOUT';\n\nexport const PATH_BATH = 'http://47.102.41.155'","import axios from 'axios';\nimport * as constants from './constants';\n\nconst changeLogin = (token) => ({\n\ttype: constants.CHANGE_LOGIN,\n\ttoken\n})\n\nexport const logout = () => ({\n\ttype: constants.LOGOUT\n})\n\nexport const login = (username, password) => {\n\treturn (dispatch) => {\n\t\taxios.post(constants.PATH_BATH + '/api/oauth/token/',{\n\t\t\tgrant_type:'password',\n\t\t\tusername,\n\t\t\tpassword\n\t\t}).then((res) => {\n\t\t\tconst token = res.data.access_token;\n\t\t\t\tdispatch(changeLogin(token))\n\t\t}).catch(function (error) {\n\t\t\tif (error) {\n\t\t\t  alert('账号密码错误！')\n\t\t\t}})\n\t}\n}","import reducer from './reducer';\nimport * as actionCreators from './actionCreators';\nimport * as constants from './constants';\n\nexport { reducer, actionCreators, constants };","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst Backtop = styled.div`\r\n\tbackground: #fff;\r\n\tborder-radius: 4px;\r\n\twidth: 40px;\r\n\theight: 40px;\r\n\tbox-shadow: 0 0 8px rgba(0,0,0,0.2);\r\n\tposition: fixed;\r\n\tright:60px;\r\n\tbottom:60px;\r\n\tline-height: 40px;\r\n\ttext-align: center;\r\n\tfont-size: 14px;\r\n\tcursor: pointer;\r\n`\r\n\r\nclass BackTop extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {showScroll:false}\r\n\t\tthis.handleScrollTop = this.handleScrollTop.bind(this)\r\n\t\tthis.changeScrollTopShow = this.changeScrollTopShow.bind(this)\r\n\t\t\r\n    }\r\n\r\n    handleScrollTop() {\r\n\t\tlet timer = null;\r\n\t\tcancelAnimationFrame(timer);\r\n\t\ttimer = requestAnimationFrame(function fn(){\r\n\t\t\tlet oTop = document.documentElement.scrollTop || document.body.scrollTop;\r\n\t\t\tif(oTop > 0){\r\n\t\t\t\twindow.scrollTo(0,oTop-100);\r\n\t\t\t\ttimer = requestAnimationFrame(fn);\r\n\t\t\t}else{\r\n\t\t\t\tcancelAnimationFrame(timer);\r\n\t\t\t}    \r\n\t\t});\r\n    }\r\n    \r\n    bindEvents() {\r\n\t\twindow.addEventListener('scroll', this.changeScrollTopShow);\r\n\t}\r\n\r\n    changeScrollTopShow() {\r\n\t\tif (document.documentElement.scrollTop > this.props.scrollTop|| document.body.scrollTop > this.props.scrollTop) {\r\n\t\t\tthis.setState({showScroll:true})\r\n\t\t}else {\r\n\t\t\tthis.setState({showScroll:false})\r\n\t\t}\r\n\t}\r\n\r\n    componentDidMount() {\r\n\t\tthis.bindEvents();\r\n    }\r\n    componentWillUnmount() {\r\n\t\twindow.removeEventListener('scroll', this.changeScrollTopShow);\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <div>\r\n            {\r\n            this.state.showScroll ?\r\n            <Backtop onClick={this.handleScrollTop}>\r\n            <i className='iconfont'>&#xe62d;</i>\r\n            </Backtop>:null\r\n            }\r\n            </div> \r\n        )\r\n    }\r\n}\r\n\r\nexport default BackTop;\r\n\r\n","import styled from 'styled-components';\r\nimport logoPic from '../../statics/logo.png';\r\n\r\nexport const HeaderWrapper = styled.div`\r\n    position: relative;\r\n    height: 56px;\r\n    margin:0 auto;\r\n    border-bottom: 1px solid #f0f0f0;\r\n`;\r\n\r\nexport const NavHeader = styled.div`\r\n    position: relative;\r\n    height: 56px;\r\n    width: 1300px;\r\n    margin:0 auto;\r\n`;\r\n\r\nexport const Logo = styled.div`\r\n    position:absolute;\r\n    top:0;\r\n    left:0;\r\n    padding:0;\r\n    width: 100px;\r\n    height: 56px;\r\n    background: url(${logoPic});\r\n    background-size: contain;\r\n`;\r\n\r\nexport const Nav = styled.div`\r\n    width:900px;\r\n    height: 56px;\r\n    margin:0 200px;\r\n`;\r\n\r\nexport const NavItem = styled.div`\r\n    color:#969696;\r\n    font-size:17px;\r\n    line-height: 56px;\r\n    padding: 0 30px;\r\n    a{\r\n        text-decoration: none;\r\n        color:#969696;\r\n    }\r\n    &.left {\r\n        float: left;\r\n    }\r\n    &.right{\r\n        float: right;\r\n    }\r\n    &.active{\r\n        color: #ea6f5a;\r\n    }\r\n`;\r\n\r\nexport const Addition = styled.div` \r\n    position: absolute;\r\n    top:0;\r\n    right:0;\r\n    height: 56px;\r\n`;\r\n\r\nexport const SearchWrapper = styled.div`\r\nfloat: left;\r\nposition: relative;\r\n.iconfont{\r\n    position: absolute;\r\n    cursor:pointer;\r\n    right: 5px;\r\n    bottom: 4px;\r\n    width: 30px;\r\n    line-height: 30px;\r\n    border-radius: 15px;\r\n    text-align: center;\r\n    &.focused{\r\n        background: #777;\r\n        color: #fff;\r\n    }\r\n}\r\n\r\n`;\r\n\r\nexport const NavSearch = styled.input.attrs({\r\n    placeholder: '搜索'\r\n})`\r\nwidth: 160px;\r\nheight: 38px;\r\nmargin-top: 9px;\r\nmargin-left: 100px;\r\npadding: 0  30px 0 20px;\r\nbox-sizing: border-box;\r\nborder: none;\r\noutline: none;\r\nborder-radius: 19px;\r\nbackground: #eee;\r\nfont-size: 14px;\r\ncolor: #666;\r\n&::placeholder{\r\n    color:#999;\r\n}\r\n\r\n&.focused{\r\n    width: 240px;\r\n}\r\n\r\n&.slide-enter{\r\n    width: 160px;\r\n}\r\n\r\n&.slide-enter-active{\r\n    width: 240px;\r\n    transition: all .2s ease-out;\r\n}\r\n\r\n&.slide-exit{\r\n    width:240px;\r\n}\r\n\r\n&.slide-exit-active{\r\n    width: 160px;\r\n    transition: all .2s ease-out;\r\n}\r\n\r\n;`","import React from 'react';\r\nimport { actionCreators } from './store';\r\nimport { connect } from 'react-redux';\r\nimport { CSSTransition } from 'react-transition-group';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport { \r\n    HeaderWrapper,\r\n    NavHeader,\r\n    Logo,\r\n    Nav,\r\n    NavItem,\r\n    Addition,\r\n    SearchWrapper,\r\n    NavSearch\r\n\r\n } from './style';\r\n\r\n const Header = (props) =>{\r\n    const {focused, handleInputFocus, token,inputValue,handleInputBlur,handleInputChange,handleSearch,handleKeyDown  } = props;\r\n    return(\r\n    <HeaderWrapper>\r\n        <NavHeader>\r\n            <Logo/>\r\n            <Nav>\r\n                <Link to='/'>\r\n                    <NavItem className= 'left active'>首页</NavItem>\r\n                </Link>\r\n                {token?\r\n                <div>\r\n                <Link to='/newpost'>\r\n                <NavItem className='right'>写文章</NavItem>\r\n                </Link>\r\n                <Link to='/message'>\r\n                <NavItem className='right'>消息</NavItem>\r\n                </Link>\r\n                </div>\r\n                 : null\r\n                }\r\n                <SearchWrapper>\r\n                    <CSSTransition\r\n                        in={focused}\r\n                        timeout={200}\r\n                        classNames=\"slide\"\r\n                    >\r\n                        <NavSearch className = {focused? 'focused':''} \r\n                        onFocus = {handleInputFocus}\r\n                        onBlur = {handleInputBlur}\r\n                        onChange={handleInputChange}\r\n                        onKeyDown={(e)=>handleKeyDown(props.history,inputValue,e)}\r\n                        value={inputValue}\r\n                        ></NavSearch>\r\n                    </CSSTransition>\r\n                            <i\r\n                            onMouseDown ={()=>handleSearch(inputValue,props.history)}\r\n                            className = {focused? 'iconfont focused': 'iconfont'}\r\n                            >\r\n                            &#xe614;\r\n                            </i>\r\n                </SearchWrapper>\r\n            </Nav> \r\n            <Addition>\r\n                <NavItem>\r\n                    <a href='https://github.com/YouHaonan/yablog'>关于</a>\r\n                </NavItem>                \r\n            </Addition> \r\n        </NavHeader>\r\n    </HeaderWrapper>\r\n );}\r\n\r\n\r\n const mapState = (state)=>({\r\n    focused: state.getIn(['header','focused']),\r\n    token:state.getIn(['login','token']),\r\n    inputValue:state.getIn(['header','inputValue'])\r\n});\r\n\r\nconst mapDispatch = (dispatch)=>({\r\n    handleInputFocus(){\r\n        dispatch(actionCreators.searchFocus());\r\n    },\r\n\r\n    handleInputBlur(){\r\n        dispatch(actionCreators.searchBlur());\r\n    },\r\n    handleInputChange(e){\r\n        dispatch(actionCreators.inputChange(e))\r\n    },\r\n    handleSearch(value, history){\r\n        if (value.length===0){\r\n            return;\r\n        }else{\r\n        history.push(`/search/${value}`)\r\n        dispatch(actionCreators.searchPost(value))\r\n    }},\r\n    handleKeyDown(history,value,e){\r\n        if (value.length===0){\r\n            return;\r\n        }\r\n        else if (e.which === 13){\r\n            history.push(`/search/${value}`)\r\n            dispatch(actionCreators.searchPost(value))\r\n        }else{\r\n            return;\r\n        }\r\n    }\r\n\r\n})\r\n\r\n\r\n export default connect(mapState,mapDispatch)(withRouter(Header));","export const SUBMIT_SUCCESS = 'edit/SUBMIT_SUCCESS';\nexport const CLEAR_STATUS = 'edit/CLEAR_STATUS';\nexport const GET_INITIAL_POST = 'edit/GET_INITIAL_POST';\nexport const CHANGE_BODY = 'edit/CHANGE_BODY';\nexport const CHANGE_TAG = 'edit/CHANGE_TAG';\nexport const CHANGE_TITLE = 'edit/CHANGE_TITLE';\nexport const GET_PHOTO_NAME = 'edit/GET_PHOTO_NAME';\n\nexport const PATH_BATH = 'http://47.102.41.155'","import { fromJS } from 'immutable';\nimport * as constants from './constants';\n\nconst defaultState = fromJS({\n\tpostID:'',\n\ttags:'',\n\ttitle:'',\n\tbody:'',\n\tphotoName:[]\n});\n\nconst setInitialPost=(state,action)=>{\n\treturn state.merge({\n\t\t'title':action.title,\n\t\t'body': action.body,\n\t\t'tags':action.tags\n\t})\n}\n\n\n\nexport default (state = defaultState, action) => {\n\tswitch(action.type) {\n\t\tcase constants.SUBMIT_SUCCESS:\n\t\t\treturn state.set('postID', action.postID);\n\t\tcase constants.CLEAR_STATUS:\n\t\t\treturn defaultState\n\t\tcase constants.GET_INITIAL_POST:\n\t\t\treturn setInitialPost(state, action);\t\n\t\tcase constants.CHANGE_BODY:\n\t\t\treturn state.set('body', action.body);\n\t\tcase constants.CHANGE_TAG:\n\t\t\treturn state.set('tags', action.tags);\n\t\tcase constants.CHANGE_TITLE:\n\t\t\treturn state.set('title', action.title);\n\t\tcase constants.GET_PHOTO_NAME:\n\t\t\treturn state.set('photoName', state.get('photoName').push(action.photoName));\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}","import axios from 'axios';\nimport * as constants from './constants';\nimport { fromJS } from 'immutable';\n\nconst submitSuccess= postID =>({\n\ttype: constants.SUBMIT_SUCCESS,\n\tpostID\n})\n\nconst getPost= (title,body, tags) =>({\n\ttype: constants.GET_INITIAL_POST,\n\ttitle,\n\tbody:fromJS(body),\n\ttags\n})\n\nconst getPhotoName = (photoName)=>({\n\ttype:constants.GET_PHOTO_NAME,\n\tphotoName\n})\n\nexport const editPost = (title, content, tags,ID,nameList) => {\n\treturn (dispatch, getState) => {\n\t\tif (ID){\n\t\t\taxios({\n\t\t\t\tmethod: 'put',\n\t\t\t\turl: constants.PATH_BATH + `/api/posts/${ID}`,\n\t\t\t\tdata: {\n\t\t\t\t\ttitle,\n\t\t\t\t\tbody:content,\n\t\t\t\t\ttags,\n\t\t\t\t\tnameList\n\t\t\t\t},\n\t\t\t\theaders: {'Authorization':`Bearer ${getState().getIn(['login', 'token'])}`}\n\t\t\t\t}).then(() => {\n\t\t\t\t\tdispatch(submitSuccess(ID))\n\t\t\t\t})\n\t\t}else{\n\t\t\taxios({\n\t\t\t\tmethod: 'post',\n\t\t\t\turl: constants.PATH_BATH + '/api/posts/',\n\t\t\t\tdata: {\n\t\t\t\t\ttitle,\n\t\t\t\t\tbody:content,\n\t\t\t\t\ttags,\n\t\t\t\t\tnameList\n\t\t\t\t},\n\t\t\t\theaders: {'Authorization':`Bearer ${getState().getIn(['login', 'token'])}`}\n\t\t\t}).then((res) => {\n\t\t\t\tconst postID=res.data.id\n\t\t\t\tdispatch(submitSuccess(postID))\n\t\t\t})}\n\t}\n}\n\nexport const getInitialPost=(ID)=>{\n\treturn(dispatch)=> {\n\t\taxios.get(constants.PATH_BATH + `/api/posts/${ID}`).then((res) =>{\n\t\tconst title = res.data.title\n      \tconst body = res.data.body\n\t\tconst tags = res.data.tags.join()\n\t\tdispatch(getPost(title, body, tags))\n\t\t})\n\t}\n}\n\nexport const upLoadFn=(param)=>{\n\treturn(dispatch,getState)=> {\n\t\tconst fd = new FormData()\n\t\tconst config = {\n\t\t\tonUploadProgress: (progressEvent) => {\n\t\t\tlet percentCompleted = Math.round((progressEvent.loaded * 100) / progressEvent.total)\n\t\t\tparam.progress(percentCompleted)\n\t\t\t},\n\t\t\theaders:{'Authorization':`Bearer ${getState().getIn(['login', 'token'])}`}}\n\t\tfd.append('photo', param.file)\n\t\taxios.post(constants.PATH_BATH +'/api/photos/', fd,config).then((res) => {\n\t\t\tconst url=res.data.url\n\t\t\tconst photoName =res.data.photo_name\n\t\t\tparam.success({\n\t\t\t\turl: url\n\t\t\t  })\n\t\t\tdispatch(getPhotoName(photoName))\n\t\t})\n\t}\n}\n\n\nexport const changeBody=(editorState)=>({\n\ttype:constants.CHANGE_BODY,\n\tbody:editorState\n})\n\nexport const changeTag=(e)=>({\n\ttype:constants.CHANGE_TAG,\n\ttags:e.target.value\n})\n\nexport const changeTitle=(e)=>({\n\ttype:constants.CHANGE_TITLE,\n\ttitle:e.target.value\n})\n\nexport const clearStatus= ()=>({\n\ttype: constants.CLEAR_STATUS})\n","import reducer from './reducer';\nimport * as actionCreators from './actionCreators';\nimport * as constants from './constants';\n\nexport { reducer, actionCreators, constants };","export const CHANGE_DETAIL = 'detail/CHANGE_DETAIL';\r\nexport const ADD_MORE_COMMENT = 'detail/ADD_MORE_COMMENT';\r\nexport const ADD_MORE_REPLY = 'detail/ADD_MORE_REPLY';\r\nexport const ADD_NEW_COMMENT = 'detail/ADD_NEW_COMMENT';\r\nexport const ADD_NEW_REPLY = 'detail/ADD_NEW_REPLY';\r\nexport const GET_COMMENT = 'detail/GET_COMMENT';\r\nexport const SHOW_REPLY = 'detail/SHOW_REPLY';\r\nexport const SHOW_REPLY_AREA = 'detail/SHOW_REPLY_AREA';\r\nexport const CHANGE_REPLY = 'detail/CHANGE_REPLY';\r\nexport const CANCEL_REPLY = 'detail/CANCEL_REPLY';\r\nexport const REPLY_CONTENT_CHANGE = 'detail/REPLY_CONTENT_CHANGE';\r\nexport const ADD_COUNT = 'detail/ADD_COUNT';\r\nexport const SUB_COUNT = 'detail/SUB_COUNT';\r\n\r\nexport const PATH_BATH = 'http://47.102.41.155'","import { fromJS } from 'immutable';\nimport * as constants from './constants';\n\nconst defaultState = fromJS({\n\tpost: {tags:[]},\n\ttags:{tags:[]},\n\tcomments:[],\n\tnextComment:'',\n\tbyIDList:{},\n\tactiveID:'',\n\treplyContent:'',\n\treplyTo:'',\n\ttoAdmin:false\n});\n\nconst getByIDList = list=>{\n\tlet commentsByID={}\n\tlist.forEach(item => {\n\t\tcommentsByID[item.get('id')]={\n\t\t\tshow:false,\n\t\t\treplyList:[],\n\t\t\tnext:'',\n\t\t\tshowReplyArea:false,\n\t\t\tcount:item.get('reply_count')\n\t\t}\n\t});\n\treturn fromJS(commentsByID)\n};\n\nconst addMoreComment = (state, action) => {\n\treturn state.merge({\n\t\t'comments': state.get('comments').concat(action.list),\n\t\t'byIDList':state.get('byIDList').concat(getByIDList(action.list)),\n\t\t'nextComment': action.nextComment\n\t});\n};\n\nconst addMoreReply = (state, action) => {\n\treturn state.setIn(\n\t\t['byIDList',`${action.id}`,'replyList'],state.getIn(['byIDList',`${action.id}`,'replyList']).concat(action.list)\n\t).setIn(\n\t\t['byIDList',`${action.id}`,'next'],action.next\n\t)\n};\n\nconst getHomeDetail= (state, action) =>{\n\treturn state.merge({\n\t\t'post': action.post,\n\t\t'tags': action.tags,\n\t\t'comments':action.comments,\n\t\t'nextComment':action.nextComment,\n\t\t'byIDList':getByIDList(action.comments)\n\t})\n};\n\nconst getComment= (state, action) =>{\n\treturn state.merge({\n\t\t'comments':action.comments,\n\t\t'byIDList':getByIDList(action.comments),\n\t\t'nextComment':action.next\n\t})\n};\n\nconst addNewComment = (state, action) => {\n\tconst nextComment=state.get('nextComment')\n\tif(nextComment){\n\t\tconst newComments = state.get('comments').pop().insert(0,action.comment)\n\t\tconst byIDList = state.get('byIDList').slice(0,-1).concat(getByIDList([action.comment]))\n\t\treturn state.merge({\n\t\t\t'comments':newComments,\n\t\t\t'byIDList':byIDList\n\t})\n\t}else{\n\t\tconst newComments = state.get('comments').insert(0,action.comment)\n\t\tconst byIDList = state.get('byIDList').concat(getByIDList([action.comment]))\n\t\treturn state.merge({\n\t\t\t'comments':newComments,\n\t\t\t'byIDList':byIDList\n\t\t})\n\t}\n};\n\nconst addNewReply = (state, action) => {\n\tconst next=state.getIn(['byIDList',`${action.id}`,'next'])\n\tif(next){\n\t\tconst newReplies = state.getIn(['byIDList',`${action.id}`,'replyList']).pop().insert(0,action.reply)\n\t\treturn state.setIn(\n\t\t\t['byIDList',`${action.id}`,'replyList'],newReplies\n\t)\n\t}else{\n\t\tconst newReplies = state.getIn(['byIDList',`${action.id}`,'replyList']).insert(0,action.reply)\n\t\treturn state.setIn(\n\t\t\t['byIDList',`${action.id}`,'replyList'],newReplies\n\t)\n\t}\n};\n\nconst changeReply = (state,action)=>{\n\treturn state.setIn(['byIDList',`${action.id}`,'replyList'],action.replyList)\n\t.setIn(['byIDList',`${action.id}`,'next'],action.next)\n};\n\nconst showReplyArea = (state,action)=>{\n\treturn state.setIn(['byIDList',`${action.preID}`,'showReplyArea'],false)\n\t\t\t.setIn(['byIDList',`${action.id}`,'showReplyArea'],true)\n\t\t\t.set('activeID',action.id)\n\t\t\t.set('replyTo',action.replyTo)\n\t\t\t.set('toAdmin',action.toAdmin)\n\t\t\t.set('replyContent','')\n};\n\nconst showReply = (state, action)=>{\n\treturn state.setIn(['byIDList',`${action.id}`,'show'],!state.getIn(['byIDList',`${action.id}`,'show']))\n};\n\nconst cancelReply = (state,action)=>{\n\treturn state.setIn(['byIDList',`${action.id}`,'showReplyArea'],false)\n\t\t\t.set('activeID','')\n\t\t\t.set('replyContent','')\n\t\t\t.set('replyTo','')\n\t\t\t.set('toAdmin',false)\n};\n\nconst addCount = (state,action)=>{\n\tconst newCount = state.getIn(['byIDList',`${action.id}`,'count'])+1\n\treturn state.setIn(['byIDList',`${action.id}`,'count'],newCount)\n};\nconst subCount = (state,action)=>{\n\tconst newCount = state.getIn(['byIDList',`${action.id}`,'count'])-1\n\treturn state.setIn(['byIDList',`${action.id}`,'count'],newCount)\n};\nexport default (state = defaultState, action) => {\n\tswitch(action.type) {\n\t\tcase constants.CHANGE_DETAIL:\n\t\t\treturn getHomeDetail(state,action)\n\t\tcase constants.ADD_MORE_COMMENT:\n\t\t\treturn addMoreComment(state,action)\n\t\tcase constants.ADD_MORE_REPLY:\n\t\t\treturn addMoreReply(state,action)\n\t\tcase constants.ADD_NEW_COMMENT:\n\t\t\treturn addNewComment(state,action)\n\t\tcase constants.GET_COMMENT:\n\t\t\treturn getComment(state,action)\n\t\tcase constants.SHOW_REPLY:\n\t\t\treturn showReply(state,action)\n\t\tcase constants.SHOW_REPLY_AREA:\n\t\t\treturn showReplyArea(state,action)\n\t\tcase constants.CHANGE_REPLY:\n\t\t\treturn changeReply(state,action)\n\t\tcase constants.CANCEL_REPLY:\n\t\t\treturn cancelReply(state, action)\n\t\tcase constants.REPLY_CONTENT_CHANGE:\n\t\t\treturn state.set('replyContent',action.value)\n\t\tcase constants.ADD_COUNT:\n\t\t\treturn addCount(state, action)\n\t\tcase constants.SUB_COUNT:\n\t\t\treturn subCount(state, action)\n\t\tcase constants.ADD_NEW_REPLY:\n\t\t\treturn addNewReply(state, action)\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}","import axios from 'axios';\nimport * as constants from './constants';\nimport { fromJS } from 'immutable';\nimport { getName } from '../../../utils'\n\n\nconst changeDetail = (post, tagList, commentList, byIDList) => ({\n\ttype: constants.CHANGE_DETAIL,\n\tpost: fromJS(post),\n\ttags: fromJS(tagList),\n\tcomments:fromJS(commentList.comments),\n\tnextComment:fromJS(commentList.next)\n});\n\nconst changeReply = (list, next,id) => ({\n\ttype: constants.CHANGE_REPLY,\n\treplyList: fromJS(list),\n\tnext: fromJS(next),\n\tid\n});\n\nconst addMoreComment = (list, nextComment) => ({\n\ttype: constants.ADD_MORE_COMMENT,\n\tlist: fromJS(list.comments),\n\tnextComment:fromJS(nextComment)\n});\n\nconst addMoreReply = (list, next, id) => ({\n\ttype: constants.ADD_MORE_REPLY,\n\tlist: fromJS(list.replies),\n\tnext:fromJS(next),\n\tid:fromJS(id)\n});\n\n\nconst addNewComment = (comment) => ({\n\ttype: constants.ADD_NEW_COMMENT,\n\tcomment: fromJS(comment)\n});\n\nconst addNewReply = (reply,id) => ({\n\ttype: constants.ADD_NEW_REPLY,\n\treply: fromJS(reply),\n\tid:fromJS(id)\n});\n\nconst getPostTag=(post)=>{\n\treturn axios.get(constants.PATH_BATH +post.tags_url)\n};\n\nconst getPostComment=(post)=>{\n\treturn axios.get(constants.PATH_BATH +post.comments_url)\n};\n\nconst getComment=(comments, next)=>({\n\ttype:constants.GET_COMMENT,\n\tcomments:fromJS(comments),\n\tnext:fromJS(next)\n})\n\n\nexport const getDetail = (id) => {\n\treturn (dispatch) => {\n\t\taxios.get(constants.PATH_BATH +`/api/posts/${id}`).then((res) => {\n\t\t\tconst post = res.data;\n\t\t\taxios.all([getPostTag(post), getPostComment(post)])\n\t\t\t.then(axios.spread(function (tags, comments)\n\t\t\t{\n\t\t\t\tconst tagList = tags.data;\n\t\t\t\tconst commentList =  comments.data;\n\t\t\t\tdispatch(changeDetail(post, tagList, commentList))\n\t\t\t}))\n\t\t})\n\t}\n};\n\nexport const getMoreComment = (nextComment) => {\n\treturn (dispatch) => {\n\t\taxios.get(constants.PATH_BATH + nextComment).then((res) => {\n\t\t\tconst list = res.data;\n\t\t\tconst nextComment = res.data.next;\n\t\t\tdispatch(addMoreComment(list, nextComment));\n\t\t});\n\t}\n}\n\nexport const getMoreReply = (id, next) => {\n\treturn (dispatch) => {\n\t\taxios.get(constants.PATH_BATH + next).then((res) => {\n\t\t\tconst list = res.data;\n\t\t\tconst next = res.data.next;\n\t\t\tdispatch(addMoreReply(list, next,id));\n\t\t});\n\t}\n}\n\nexport const submitComment = (comment,id) => {\n\treturn (dispatch,getState) => {\n\t\tconst token=getState().getIn(['login', 'token'])\n\t\tconst headers=token? {'Authorization':`Bearer ${token}`}:null\n\t\tconst localAuthorName = localStorage.getItem('author')\n\t\tlet author = ''\n\t\tif (localAuthorName){\n\t\t\tauthor = token?'':localAuthorName\n\t\t}else{\n\t\t\tauthor = getName()\n\t\t\tlocalStorage.setItem('author',author)\n\t\t}\t\n\t\taxios({\n\t\t\tmethod: 'post',\n\t\t\turl: constants.PATH_BATH + `/api/posts/${id}/comments/`,\n\t\t\tdata: {\n\t\t\t\tbody:comment,\n\t\t\t\tauthor\n\t\t\t},\n\t\t\theaders\n\t\t}).then((res) => {\n\t\t\tconst newComment=res.data;\n\t\t\tdispatch(addNewComment(newComment));\n\t\t})\n\t}\n}\n\nexport const replySubmit = (value,to,id,toAdmin) => {\n\treturn (dispatch,getState) => {\n\t\tconst token=getState().getIn(['login', 'token'])\n\t\tconst headers=token? {'Authorization':`Bearer ${token}`}:null\n\t\tconst localAuthorName = localStorage.getItem('author')\n\t\tlet author = ''\n\t\tif (localAuthorName){\n\t\t\tauthor = token?'':localAuthorName\n\t\t}else{\n\t\t\tauthor = getName()\n\t\t\tlocalStorage.setItem('author',author)\n\t\t}\t\n\t\taxios({\n\t\t\tmethod: 'post',\n\t\t\turl: constants.PATH_BATH + `/api/comments/${id}/replies/`,\n\t\t\tdata: {\n\t\t\t\tbody:value,\n\t\t\t\tauthor,\n\t\t\t\tto,\n\t\t\t\tto_admin:toAdmin\n\t\t\t},\n\t\t\theaders\n\t\t}).then((res) => {\n\t\t\tconst show = getState().getIn(['detail','byIDList',`${id}`,'show'])\n\t\t\tconst newReply=res.data;\n\t\t\tif (show){\n\t\t\t\tdispatch(addNewReply(newReply,id))\n\t\t\t}else{\n\t\t\t\tdispatch(getReply(id))\n\t\t\t\tdispatch(showReply(id))\n\n\t\t\t}\n\t\t\tdispatch(addCount(id))\n\t\t\tdispatch(cancelReply(id))\n\t\t})\n\t}\n}\n\nexport const deleteComment =(id,token,url)=>{\n\treturn (dispatch)=>{\n\t\taxios({\n\t\t\tmethod: 'delete',\n\t\t\turl: constants.PATH_BATH + `/api/comments/${id}`,\n\t\t\theaders: {'Authorization':`Bearer ${token}`}\n\t\t}).then((res)=>{\n\t\t\tif (res.status ===204){\n\t\t\t\taxios({\n\t\t\t\t\tmethod: 'get',\n\t\t\t\t\turl: constants.PATH_BATH + url,\n\t\t\t\t}).then((res) => {\n\t\t\t\t\tconst comments = res.data.comments\n\t\t\t\t\tconst nextPage = res.data.next\n\t\t\t\t\tdispatch(getComment(comments, nextPage));\n\t\t\t\t});\n\t\t\t}\n\t\t})\n\t}\n}\n\nexport const deleteReply =(replyID,token,commentID)=>{\n\treturn (dispatch)=>{\n\t\taxios({\n\t\t\tmethod: 'delete',\n\t\t\turl: constants.PATH_BATH + `/api/replies/${replyID}`,\n\t\t\theaders: {'Authorization':`Bearer ${token}`}\n\t\t}).then((res)=>{\n\t\t\tif (res.status ===204){\n\t\t\t\tdispatch(getReply(commentID))\n\t\t\t\tdispatch(subCount(commentID))\n\t\t\t}\n\t\t})\n\t}\n}\n\nexport const toggleComment =(id,token,url)=>{\n\treturn (dispatch)=>{\n\t\taxios({\n\t\t\tmethod: 'put',\n\t\t\turl: constants.PATH_BATH + `/api/comments/${id}`,\n\t\t\theaders: {'Authorization':`Bearer ${token}`}\n\t\t}).then((res)=>{\n\t\t\tif (res.status ===200){\n\t\t\t\taxios({\n\t\t\t\t\tmethod: 'get',\n\t\t\t\t\turl: constants.PATH_BATH + url,\n\t\t\t\t}).then((res) => {\n\t\t\t\t\tconst comments = res.data.comments\n\t\t\t\t\tconst nextPage = res.data.next\n\t\t\t\t\tdispatch(getComment(comments, nextPage));\n\t\t\t\t});\n\t\t\t}\n\t\t})\n\t}\n}\n\nexport const toggleReply =(replyID,token,commentID)=>{\n\treturn (dispatch)=>{\n\t\taxios({\n\t\t\tmethod: 'put',\n\t\t\turl: constants.PATH_BATH + `/api/replies/${replyID}`,\n\t\t\theaders: {'Authorization':`Bearer ${token}`}\n\t\t}).then((res)=>{\n\t\t\tif (res.status ===200){\n\t\t\tdispatch(getReply(commentID))\n\t\t\t}\n\t\t})\n\t}\n}\n\nexport const getReply = (id) => {\n\treturn (dispatch) => {\n\t\taxios.get(constants.PATH_BATH + `/api/comments/${id}/replies/`).then((res) => {\n\t\t\t\n\t\t\tconst list = res.data.replies;\n\t\t\tconst next = res.data.next;\n\t\t\tdispatch(changeReply(list, next,id))\n\t\t});\n\t}\n}\n\nexport const showReply=(id)=>({\n\ttype: constants.SHOW_REPLY,\n\tid:fromJS(id)\n})\n\nexport const showReplyArea=(id,preID,replyTo,toAdmin)=>({\n\ttype: constants.SHOW_REPLY_AREA,\n\tid:fromJS(id),\n\tpreID:fromJS(preID),\n\treplyTo:fromJS(replyTo),\n\ttoAdmin:fromJS(toAdmin)\n})\n\nexport const cancelReply=(id)=>({\n\ttype: constants.CANCEL_REPLY,\n\tid:fromJS(id)\n})\n\nexport const replyChange=(value)=>({\n\ttype: constants.REPLY_CONTENT_CHANGE,\n\tvalue:fromJS(value)\n})\n\nexport const addCount=(id)=>({\n\ttype: constants.ADD_COUNT,\n\tid:fromJS(id)\n})\nexport const subCount=(id)=>({\n\ttype: constants.SUB_COUNT,\n\tid:fromJS(id)\n})\n\n","import reducer from './reducer';\nimport * as actionCreators from './actionCreators';\nimport * as constants from './constants';\n\nexport { reducer, actionCreators, constants };","export const GET_MESSAGE = 'message/GET_MESSAGE';\r\nexport const GET_MORE_COMMENT = 'message/GET_MORE_COMMENT';\r\nexport const GET_MORE_REPLY = 'message/GET_MORE_REPLY';\r\n\r\nexport const PATH_BATH = 'http://47.102.41.155'","import { fromJS } from 'immutable';\nimport * as constants from './constants';\n\nconst defaultState = fromJS({\n\tmessages:[],\n\tcommentNext:'',\n\tcount:'',\n\treplyNext:''\n});\n\nconst getMessage = (state, action) => {\n\treturn state.merge({\n\t\t'messages': action.comments.concat(action.replies),\n\t\t'commentNext': action.commentNext,\n\t\t'count':action.commentCount+action.replyCount,\n\t\t'replyNext':action.replyNext\n\t});\n};\n\n\nconst getMoreComment = (state, action) => {\n\treturn state.merge({\n\t\t'messages': state.get('messages').concat(action.comments),\n\t\t'commentNext': action.commentNext\n\t});\n};\n\nconst getMoreReply = (state, action) => {\n\treturn state.merge({\n\t\t'messages': state.get('messages').concat(action.replies),\n\t\t'replyNext': action.replyNext\n\t});\n};\n\n\nexport default (state = defaultState, action) => {\n\tswitch(action.type) {\n\t\tcase constants.GET_MESSAGE:\n\t\t\treturn getMessage(state,action)\n\t\tcase constants.GET_MORE_COMMENT:\n\t\t\treturn getMoreComment(state,action)\n\t\tcase constants.GET_MORE_REPLY:\n\t\t\treturn getMoreReply(state,action)\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}","import axios from 'axios';\nimport * as constants from './constants';\nimport { fromJS } from 'immutable';\n\n// const getComment = (comments, nextPage, count) => ({\n// \ttype: constants.GET_UNREAD_COMMENT,\n// \tcomments: fromJS(comments),\n// \tnextPage,\n// \tcount\n// });\n\nconst getMessage = (comments, replies)=>({\n\ttype:constants.GET_MESSAGE,\n\tcomments:fromJS(comments.comments),\n\tcommentNext:fromJS(comments.next),\n\tcommentCount:fromJS(comments.count),\n\treplies:fromJS(replies.replies),\n\treplyNext:fromJS(replies.next),\n\treplyCount:fromJS(replies.count)\n})\n\nconst moreComment = (comments, commentNext, commentCount) => ({\n\ttype: constants.GET_MORE_COMMENT,\n\tcomments: fromJS(comments),\n\tcommentNext:fromJS(commentNext),\n\tcommentCount:fromJS(commentCount)\n});\n\nconst moreReply = (replies, replyNext, replyCount) => ({\n\ttype: constants.GET_MORE_REPLY,\n\treplies: fromJS(replies),\n\treplyNext:fromJS(replyNext),\n\treplyCount:fromJS(replyCount)\n});\n\nconst getComments = token=>{\n\treturn axios({\n\t\tmethod: 'get',\n\t\turl: constants.PATH_BATH + '/api/comments/',\n\t\theaders: {'Authorization':`Bearer ${token}`}\n\t})\n}\n\nconst getReplies = token=>{\n\treturn axios({\n\t\tmethod: 'get',\n\t\turl: constants.PATH_BATH + '/api/replies/',\n\t\theaders: {'Authorization':`Bearer ${token}`}\n\t})\n}\n\nexport const getUnreadMessage = (token) => {\n\treturn (dispatch) => {\n\t\t\taxios.all([getComments(token), getReplies(token)])\n\t\t\t.then(axios.spread(function(comment,reply)\n\t\t\t{\n\t\t\t\tconst comments = comment.data;\n\t\t\t\tconst replies =  reply.data;\n\t\t\t\tdispatch(getMessage(comments, replies))\n\t\t\t}))\n\t\t\n\t}\n};\n\n// export const getUnreadMessage = (token) => {\n// \treturn (dispatch) => {\n// \t\taxios({\n// \t\t\tmethod: 'get',\n// \t\t\turl: constants.PATH_BATH + '/api/comments/',\n// \t\t\theaders: {'Authorization':`Bearer ${token}`}\n// \t\t}).then((res) => {\n// \t\t\tconst comments = res.data.comments;\n// \t\t\tconst nextPage = res.data.next;\n// \t\t\tconst count = res.data.count;\n// \t\t\tdispatch(getComment(comments, nextPage, count));\n// \t\t});\n// \t}\n// }\n\nexport const getMoreComment = (next,token) => {\n\treturn (dispatch) => {\n\t\taxios({\n\t\t\tmethod: 'get',\n\t\t\turl: constants.PATH_BATH + next,\n\t\t\theaders: {'Authorization':`Bearer ${token}`}\n\t\t}).then((res) => {\n\t\t\tconst comments = res.data.comments;\n\t\t\tconst commentNext = res.data.next;\n\t\t\tconst commentCount = res.data.count;\n\t\t\tdispatch(moreComment(comments, commentNext, commentCount));\n\t\t});\n\t}\n}\n\nexport const getMoreReply = (next,token) => {\n\treturn (dispatch) => {\n\t\taxios({\n\t\t\tmethod: 'get',\n\t\t\turl: constants.PATH_BATH + next,\n\t\t\theaders: {'Authorization':`Bearer ${token}`}\n\t\t}).then((res) => {\n\t\t\tconst replies = res.data.replies;\n\t\t\tconst replyNext = res.data.next;\n\t\t\tconst replyCount = res.data.count;\n\t\t\tdispatch(moreReply(replies, replyNext, replyCount));\n\t\t});\n\t}\n}\n\nexport const toggleStatus =(id,name,token)=>{\n\treturn (dispatch)=>{\n\t\tconst url = name==='comment'? '/api/comments/':'/api/replies/'\n\t\taxios({\n\t\t\tmethod: 'put',\n\t\t\turl: constants.PATH_BATH + url+id,\n\t\t\theaders: {'Authorization':`Bearer ${token}`}\n\t\t}).then((res)=>{\n\t\t\tif (res.status ===200){\n\t\t\t\tdispatch(getUnreadMessage(token))\n\t\t\t}\n\t\t})\n\t}\n}\n\nexport const deleteMessage =(id,name,token)=>{\n\treturn (dispatch)=>{\n\t\tconst url = name==='comment'? '/api/comments/':'/api/replies/'\n\t\taxios({\n\t\t\tmethod: 'delete',\n\t\t\turl: constants.PATH_BATH + url+id,\n\t\t\theaders: {'Authorization':`Bearer ${token}`}\n\t\t}).then((res)=>{\n\t\t\tif (res.status ===204){\n\t\t\t\tdispatch(getUnreadMessage(token))\n\t\t\t}\n\t\t})\n\t}\n}","import reducer from './reducer';\nimport * as actionCreators from './actionCreators';\nimport * as constants from './constants';\n\nexport { reducer, actionCreators, constants };","module.exports = \"data:image/png;base64,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\""],"sourceRoot":""}