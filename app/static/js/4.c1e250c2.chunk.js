(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{174:function(t,e,n){"use strict";var o=n(0),r=n.n(o),i=n(1),a=n.n(i),c=n(8),u=n.n(c),p=n(7),s=n.n(p),l=n(24),f=n(35),d=n.n(f),g={},m=0,h=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"/"===t?t:function(t){var e=t,n=g[e]||(g[e]={});if(n[t])return n[t];var o=d.a.compile(t);return m<1e4&&(n[t]=o,m++),o}(t)(e,{pretty:!0})},b=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t};var x=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.isStatic=function(){return this.context.router&&this.context.router.staticContext},e.prototype.componentWillMount=function(){s()(this.context.router,"You should not use <Redirect> outside a <Router>"),this.isStatic()&&this.perform()},e.prototype.componentDidMount=function(){this.isStatic()||this.perform()},e.prototype.componentDidUpdate=function(t){var e=Object(l.b)(t.to),n=Object(l.b)(this.props.to);Object(l.c)(e,n)?u()(!1,"You tried to redirect to the same route you're currently on: \""+n.pathname+n.search+'"'):this.perform()},e.prototype.computeTo=function(t){var e=t.computedMatch,n=t.to;return e?"string"===typeof n?h(n,e.params):b({},n,{pathname:h(n.pathname,e.params)}):n},e.prototype.perform=function(){var t=this.context.router.history,e=this.props.push,n=this.computeTo(this.props);e?t.push(n):t.replace(n)},e.prototype.render=function(){return null},e}(r.a.Component);x.propTypes={computedMatch:a.a.object,push:a.a.bool,from:a.a.string,to:a.a.oneOfType([a.a.string,a.a.object]).isRequired},x.defaultProps={push:!1},x.contextTypes={router:a.a.shape({history:a.a.shape({push:a.a.func.isRequired,replace:a.a.func.isRequired}).isRequired,staticContext:a.a.object}).isRequired};var v=x;e.a=v},296:function(t,e,n){"use strict";n.r(e);var o=n(16),r=n(17),i=n(20),a=n(18),c=n(21),u=n(0),p=n.n(u),s=n(19),l=n(289),f=n(174),d=n(293),g=n(38),m=n(34),h=n.n(m),b=n(52),x=n(37),v=n(4),y=n(5);function j(){var t=Object(v.a)(["\n\twidth: 100%;\n\theight: 40px;\n\tline-height: 40px;\n\tmargin: 30px 0;\n\ttext-align:center;\n\tcolor: #999;\n\tcursor: pointer;\n"]);return j=function(){return t},t}function O(){var t=Object(v.a)(["\n    padding:0 5px;\n    float:right;\n    color:#999;\n    font-size:13px;\n    cursor:pointer;\n"]);return O=function(){return t},t}function w(){var t=Object(v.a)(["\n    overflow:hidden;\n    padding-right:15px;\n    padding-top:15px;\n"]);return w=function(){return t},t}function E(){var t=Object(v.a)(["\n    border-radius:5px;\n    padding:10px;\n    padding-left:15px;\n    width:720px;\n    margin:auto;\n    background:#f4f4f4;\n    color:#999;\n    font-size:14px;\n    box-sizing:border-box;\n    line-height:20px;\n"]);return E=function(){return t},t}function M(){var t=Object(v.a)(["\n    font-size:13px;\n    display:inline-block;\n    color:#999;\n    padding-left:10px;\n"]);return M=function(){return t},t}function k(){var t=Object(v.a)(["\n    padding: 20px 0;\n    .author{\n        color:#175199\n        font-weight:500;\n    }\n    .title{\n        font-weight:bold;\n    }\n"]);return k=function(){return t},t}function C(){var t=Object(v.a)(["\n    padding-top: 20px;\n    padding-bottom:5px;\n    border-bottom: 1px solid #dcdcdc;\n    a{\n        text-decoration: none;\n    }\n"]);return C=function(){return t},t}function R(){var t=Object(v.a)(["\n    position:relative;\n    margin:0 5px;\n    bottom:5px;\n    height:26px;\n    width:26px;\n    line-height:26px\n    border-radius:13px;\n    display:inline-block;\n    font-size:14px;\n    text-align:center;\n    color:#fff;\n    background:#3194d0;\n    font-weight:500;\n"]);return R=function(){return t},t}function T(){var t=Object(v.a)(["\n    font-size:14px;\n    margin-left:10px;\n    margin-bottom:20px;\n"]);return T=function(){return t},t}function z(){var t=Object(v.a)(["\n    position:relative;\n    font-size:30px;\n    font-weight:500;\n    margin-bottom:40px;\n"]);return z=function(){return t},t}function S(){var t=Object(v.a)(["\n    position:relative;\n    min-height:150px;\n    width:800px;\n    padding-top:80px;\n    margin:0 auto;\n"]);return S=function(){return t},t}var _=y.b.div(S()),N=y.b.div(z()),Y=y.b.div(T()),q=y.b.div(R()),D=y.b.div(C()),I=y.b.div(k()),P=y.b.div(M()),U=y.b.div(E()),H=y.b.div(w()),J=y.b.div(O()),W=y.b.div(j()),A=function(t){function e(){return Object(o.a)(this,e),Object(i.a)(this,Object(a.a)(e).apply(this,arguments))}return Object(c.a)(e,t),Object(r.a)(e,[{key:"render",value:function(){var t=this,e=this.props,n=e.comments,o=e.replyNext,r=e.commentNext,i=e.count,a=e.token,c=e.getMoreMessage;return a?p.a.createElement("div",null,p.a.createElement(g.a,null),p.a.createElement(_,null,p.a.createElement(N,null,"\u672a\u8bfb\u6d88\u606f",p.a.createElement(q,null,i),":"),n.map(function(e){return p.a.createElement(D,{key:e.get("id")},p.a.createElement(I,null,e.get("author"),p.a.createElement(P,null,h()(e.get("timestamp")).format("YYYY-MM-DD HH:mm:ss"))),p.a.createElement(Y,null,e.get("body")),p.a.createElement(l.a,{to:"/detail/"+e.get("post_id")},p.a.createElement(U,null,e.get("post_title")||e.get("comment_body"))),p.a.createElement(H,null,p.a.createElement(J,{onClick:function(){return t.props.toggleStatus(e.get("id"),e.get("name"),a)}},"\u6807\u4e3a\u5df2\u8bfb"),p.a.createElement(J,{onClick:function(){return t.props.deleteMessage(e.get("id"),e.get("name"),a)}},"\u5220\u9664")))}),r||o?p.a.createElement(W,{onClick:function(){return c(r,o,a)}},">>> \u66f4\u591a\u6d88\u606f <<<"):p.a.createElement(W,null,">>> \u6682\u65e0\u66f4\u591a <<<")),p.a.createElement(x.a,{scrollTop:"800"})):p.a.createElement(f.a,{to:"/"})}},{key:"componentDidMount",value:function(){this.props.getUnreadMessage(this.props.token)}}]),e}(u.Component);e.default=Object(s.b)(function(t){return{comments:t.getIn(["message","messages"]),commentNext:t.getIn(["message","commentNext"]),replyNext:t.getIn(["message","replyNext"]),token:t.getIn(["login","token"]),count:t.getIn(["message","count"])}},function(t){return{getUnreadMessage:function(e){t(b.a.getUnreadMessage(e))},getMoreMessage:function(e,n,o){e&&t(b.a.getMoreComment(e,o)),n&&t(b.a.getMoreReply(n,o))},toggleStatus:function(e,n,o){t(b.a.toggleStatus(e,n,o))},deleteMessage:function(e,n,o){window.confirm("\u786e\u8ba4\u5220\u9664\uff1f")&&t(b.a.deleteMessage(e,n,o))}}})(Object(d.a)(A))}}]);
//# sourceMappingURL=4.c1e250c2.chunk.js.map